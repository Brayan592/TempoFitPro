<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>TempoFitPro Ultimate Mejorado</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Rajdhani:wght@500&display=swap" rel="stylesheet"/>
  <style>
    /* Definición de la variable CSS para el color del pulgar del slider */
    :root {
      --slider-thumb-color: #3a7bd5; /* Color por defecto */
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Rajdhani', sans-serif;
      background: #f0ebe6;
      color: #333;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow-x: hidden;
      position: relative;
      transition: background-color 0.3s;
    }
    .center {
      text-align: center;
      width: 90%;
      max-width: 480px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }
    h1.mainTitle {
      font-family: 'Orbitron';
      font-size: 3.5rem;
      color: #3a7bd5;
      animation: fadeScaleIn 1.2s forwards;
      margin-bottom: 0.5em;
      opacity: 0;
      transform: scale(0.8);
    }
    h2.modeTitle {
      font-size: 2.5rem;
      color: #417d52;
      margin: 0.1em 0;
    }
    p.modeInstr {
      font-size: 1.4rem;
      color: #555;
      margin: 0.2em 0;
    }
    @keyframes fadeScaleIn {
      to { opacity: 1; transform: scale(1); }
    }
    button {
      opacity: 0;
      transform: translateY(40px);
      animation: fadeUpIn 1s forwards;
      background: #74b49b;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 10px 20px; /* Increased padding */
      font-size: 1.1rem;    /* Increased font size */
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3); /* Increased shadow */
      transition: background 0.3s, transform 0.2s;
      margin: 4px;
    }
    @keyframes fadeUpIn {
      to { opacity: 1; transform: translateY(0); }
    }
    button:hover:not(:disabled) {
      background: #609d7f;
      transform: scale(1.07) translateZ(0); /* More pronounced hover */
    }
    button:disabled {
      background: #a8c4b0;
      cursor: not-allowed;
    }

    /* Specific styles for Pause and Reset buttons */
    #normalPause, #intervalPause {
      background: #e74c3c; /* Red for Pause */
    }
    #normalPause:hover:not(:disabled), #intervalPause:hover:not(:disabled) {
      background: #c0392b; /* Darker red on hover */
    }
    #normalReset, #intervalReset {
      background: #3498db; /* Blue for Reset */
    }
    #normalReset:hover:not(:disabled), #intervalReset:hover:not(:disabled) {
      background: #2980b9; /* Darker blue on hover */
    }


    .modeBtn {
      flex: 1 1 120px;
      min-height: 60px;
      font-size: 1.3rem;
    }
    .btnContainer {
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: nowrap;
      margin: 8px 0;
      width: 100%;
      max-width: 400px;
    }
    .btnContainer button {
      flex: 1;
      min-width: 100px;
      max-width: 120px;
      padding: 12px 14px;
      font-size: 1.1rem;
      border-radius: 10px;
      line-height: 1.3;
      text-align: center;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .timerDisplay { /* Larger and more prominent timers */
      font-size: 6rem; /* Increased from 4.5rem */
      margin: 5px 0;
      font-weight: 900;
      color: #417d52;
      text-shadow: 0 0 15px #74b49b, 0 0 25px #74b49b; /* Enhanced text shadow */
      order: -1;
      transition: font-size 0.3s ease-in-out; /* Smooth transition for font size */
    }
    .timerDisplay.timerDisplayLarge { /* New class for even larger timer */
        font-size: 8rem; /* Even larger font size */
    }
    .inputBlock {
      margin: 5px 0;
      width: 100%;
      max-width: 340px;
      text-align: left;
    }
    input[type=number] {
      width: 100%;
      padding: 6px;
      border-radius: 6px;
      border: 1.8px solid #74b49b;
      font-size: 1.1rem;
    }
    #intervalInputs {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 8px;
      margin: 10px 0;
      width: 100%;
      max-width: 360px;
      order: 1;
      /* Added for better alignment */
      align-items: start; /* Aligns items to the start of their grid cell */
    }
    .phaseBox {
      font-size: 1.6rem;
      color: #417d52;
      margin: 5px 0;
      order: -2;
    }
    #intervalView {
      padding: 20px 10px;
      min-height: 70vh;
      justify-content: center;
    }
    #triviaContainer {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      margin-top: 15px;
    }
    #triviaQuestion {
      font-size: 2.2rem;
      font-weight: 700;
      color: #3a7bd5;
      min-height: 90px;
      text-align: center;
    }
    #triviaAnswers {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      width: 100%;
      max-width: 600px;
    }
    #triviaAnswers button {
      font-size: 1.2rem;
      padding: 12px;
      border-radius: 14px;
      font-weight: 800;
      flex: 1 1 45%;
      max-width: 48%;
    }
    #triviaProgress {
      font-size: 1.2rem;
      color: #555;
      margin-bottom: 10px;
    }
    #finalTriviaMessage, #punishmentsSummaryView {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #e1f0d1;
      border-radius: 12px;
      padding: 25px 35px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
      max-width: 90%;
      text-align: center;
      font-size: 1.5rem;
      color: #417d52;
      display: none;
      z-index: 1000;
      flex-direction: column;
      align-items: center;
      max-height: 90vh;
      overflow-y: auto;
    }
    /* New styling for trivia congratulatory banner */
    .triviaCongratsBanner {
      background: linear-gradient(45deg, #a8e063, #56ab2f); /* Green gradient */
      border: 3px solid #4CAF50;
      box-shadow: 0 8px 16px rgba(0,0,0,0.3), 0 0 20px rgba(76, 175, 80, 0.5); /* Enhanced shadow */
      color: white !important; /* White text for contrast */
      text-shadow: 1px 1px 2px rgba(0,0,0,0.4);
      animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards; /* Pop-in animation */
    }
    @keyframes popIn {
      0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }
    .finalTriviaHeader {
      font-size: 2rem;
      margin-bottom: 20px;
    }
    .triviaCongratsBanner .finalTriviaHeader {
      font-size: 2.5rem; /* Larger header */
      color: white; /* White text for header */
    }

    #punishmentsListContainer {
      margin-top: 20px;
      width: 100%;
      max-width: 600px;
      text-align: left;
    }
    #punishmentsListContainer h4 {
      font-size: 1.6rem;
      color: #e74c3c;
      margin-bottom: 15px;
    }
    .punishmentItem {
      display: flex;
      flex-direction: column; /* Stack content vertically */
      align-items: flex-start; /* Align text to the left */
      background: #f8d7da;
      border: 1px solid #f5c6cb;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 10px;
    }
    .punishmentItem p {
      margin: 5px 0;
      font-size: 1.1rem;
      color: #721c24;
    }
    .punishmentItem strong {
      color: #e74c3c;
    }
    /* New style for the "Más información" button */
    button.small-info-btn {
      background: #3a7bd5; /* A distinct blue */
      color: white;
      padding: 6px 12px;
      font-size: 0.9rem;
      border-radius: 6px;
      margin-top: 8px;
      cursor: pointer;
      transition: background 0.3s;
      box-shadow: none; /* No extra shadow */
      animation: none; /* No initial animation */
      opacity: 1; /* Always visible */
      transform: translateY(0); /* Always at original position */
    }

    button.small-info-btn:hover {
      background: #2a6bb5;
      transform: scale(1.05); /* Slight scale on hover */
    }

    .infoModal {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 2000;
      max-width: 80%;
      text-align: left;
      max-height: 80vh;
      overflow-y: auto;
    }
    .motivation {
      position: fixed;
      font-weight: 700;
      font-size: 1.1rem;
      color: #3a7bd5;
      pointer-events: none;
      animation: floatMotivation 5s linear forwards;
      text-shadow: 1px 1px 2px #a6c9f5;
    }
    @keyframes floatMotivation {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-500px) translateX(20px); opacity: 0; }
    }
    #btnBack {
      position: fixed;
      top: 12px;
      left: 12px;
      background: #417d52;
      color: #fff;
      border: none;
      border-radius: 10px;
      padding: 10px 18px;
      font-size: 1.2rem;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 3px 6px rgba(0,0,0,0.3);
      display: none;
      z-index: 1100;
      transition: background 0.3s, transform 0.2s;
    }
    #btnBack:hover {
      background: #305b3c;
      transform: scale(1.05) translateZ(0);
    }
    footer {
      position: fixed;
      bottom: 10px;
      width: 100%;
      text-align: center;
      font-size: 0.9rem;
      color: #555;
    }
    button.answerCorrect {
      background: #4caf50 !important;
      color: #fff !important;
    }
    button.answerIncorrect {
      background: #f44336 !important;
      color: #fff !important;
    }
    #settingsToggle {
      position: fixed;
      top: 12px;
      right: 12px;
      width: 42px;
      height: 42px;
      border-radius: 50%;
      background: #3a7bd5;
      color: white;
      font-size: 1.8rem;
      line-height: 42px;
      text-align: center;
      cursor: pointer;
      box-shadow: 0 3px 6px rgba(0,0,0,0.3);
      user-select: none;
      z-index: 1200;
      transition: background 0.3s, transform 0.2s;
    }
    #settingsToggle:hover {
      background: #2a6bb5;
      transform: scale(1.05) translateZ(0);
    }
    #settingsMenu {
      position: fixed;
      top: 62px;
      right: 12px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      display: none;
      flex-direction: column;
      gap: 15px;
      z-index: 1100;
      max-width: 250px;
    }
    #settingsMenu.show {
      display: flex;
    }
    #settingsMenu h3 {
      margin: 0;
      font-size: 1.3rem;
      color: #333;
      border-bottom: 1px solid #eee;
      padding-bottom: 8px;
    }

    /* Palette and Language Grids */
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(36px, 1fR));
      gap: 8px;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    .settings-grid.palette-grid { /* For palettes, show first 3 rows (approx 3*36 + 2*8 = 124px) */
      max-height: 124px;
    }
    .settings-grid.language-grid { /* For languages, show first 5 rows (approx 5*36 + 4*8 = 212px) */
      /* Each button is 36px height, 8px gap. 5 buttons = 5*36 + 4*8 = 180 + 32 = 212px */
      max-height: 212px;
    }
    .settings-grid.expanded {
      max-height: 500px; /* Sufficiently large to show all */
    }

    .palette-item, .language-button {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.25);
      transition: transform 0.3s, background-color 0.3s;
      user-select: none;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: #fff;
      text-shadow: 0 0 2px #000;
    }
    .palette-item:hover, .language-button:hover {
      transform: scale(1.2) translateZ(0);
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }
    .palette-item.active {
      border: 3px solid #3a7bd5; /* Highlight active palette */
    }
    .language-button {
      font-size: 0.9rem; /* Increased font size for better visibility */
      padding: 0 8px; /* Added horizontal padding */
      width: auto; /* Allow width to adjust for text */
      border-radius: 8px;
      height: 36px;
      min-width: 36px;
      background-color: #74b49b; /* Default button background for languages */
      color: #fff;
      text-align: center;
      white-space: nowrap; /* Prevent text wrapping */
      overflow: hidden; /* Hide overflow */
      text-overflow: ellipsis; /* Add ellipsis for overflowed text */
      box-shadow: 0 2px 4px rgba(0,0,0,0.2); /* Added subtle shadow */
    }
    .language-button.active {
      background-color: #3a7bd5 !important; /* Highlight active language */
      color: #fff !important;
      font-weight: bold; /* Make active language text bold */
      border: 2px solid #2a6bb5; /* Add a border for active */
    }

    .expand-button {
      background: #74b49b;
      color: #fff;
      padding: 8px;
      margin-top: 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      width: 100%;
      box-shadow: none; /* No extra shadow */
      animation: none; /* No initial animation */
      opacity: 1; /* Always visible */
      transform: translateY(0); /* Always at original position */
    }
    .expand-button:hover {
      background: #609d7f;
      transform: scale(1.02) translateZ(0);
    }

    /* Voice Selection Styles */
    #voiceSelect {
      width: 100%;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
      background-color: #f9f9f9;
      color: #333;
    }

    /* Volume Control Styles */
    #volumeControlBtn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #3a7bd5;
      color: white;
      font-size: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 3px 6px rgba(0,0,0,0.3);
      z-index: 1500;
      transition: background 0.3s, transform 0.2s;
    }
    #volumeControlBtn:hover {
      background: #2a6bb5;
      transform: scale(1.05) translateZ(0);
    }
    #volumeSliderContainer {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: rgba(255, 255, 255, 0.9);
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      display: none;
      flex-direction: column;
      align-items: center;
      z-index: 1499;
    }
    #volumeSliderContainer label {
      font-size: 0.9rem;
      margin-bottom: 5px;
      color: #333;
    }
    #volumeSlider {
      width: 100px;
      -webkit-appearance: none;
      height: 8px;
      background: #ddd;
      border-radius: 5px;
      outline: none;
      opacity: 0.7;
      transition: opacity .2s;
    }
    #volumeSlider:hover {
      opacity: 1;
    }
    #volumeSlider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--slider-thumb-color); /* Usa la variable CSS */
      cursor: pointer;
    }
    #volumeSlider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--slider-thumb-color); /* Usa la variable CSS */
      cursor: pointer;
    }

    @media (max-width: 400px) {
      .center {
        justify-content: flex-start;
        padding-top: 10px;
      }
      .btnContainer {
        flex-direction: column;
        align-items: center;
      }
      .btnContainer button {
        width: 100%;
        max-width: 200px;
        margin: 4px 0;
        padding: 10px 12px;
        font-size: 1rem;
      }
      .timerDisplay {
        font-size: 4.5rem; /* Adjusted for smaller screens */
      }
      .timerDisplay.timerDisplayLarge { /* Adjusted for smaller screens */
          font-size: 6rem;
      }
      h2.modeTitle {
        font-size: 2rem;
      }
      p.modeInstr {
        font-size: 1.2rem;
      }
      #intervalInputs {
        grid-template-columns: 1fr;
        max-width: 300px;
      }
      .inputBlock {
        max-width: 100%;
      }
      input[type=number] {
        font-size: 1rem;
      }
      .phaseBox {
        font-size: 1.4rem;
      }
      #intervalView {
        padding: 10px;
      }
      #finalTriviaMessage, #punishmentsSummaryView {
        flex-direction: column;
        padding: 15px;
      }
      #punishmentsListContainer {
        flex-direction: column;
        align-items: center;
      }
      .punishmentLeft, .punishmentRight {
        text-align: center;
        margin: 10px 0;
      }
    }
  </style>
</head>
<body>
  <div id="welcome" class="center">
    <h1 class="mainTitle">TempoFitPro</h1>
    <p style="font-size:1.6rem;color:#417d52;">Transforma tu cuerpo con disciplina y tecnología</p>
    <button id="btnStart">Comenzar Entrenamiento 🚀</button>
  </div>

  <div id="mainView" class="center" style="display:none;">
    <h2 class="modeTitle">Selecciona tu modo</h2>
    <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:20px;">
      <button class="modeBtn" id="btnInitNormal">Cronómetro ⏱</button>
      <button class="modeBtn" id="btnInitInterval">Intervalos 🔄</button>
      <button class="modeBtn" id="btnInitTrivia">Trivia ❓</button>
    </div>
  </div>

  <div id="normalView" class="center" style="display:none;">
    <h2 class="modeTitle">Cronómetro ⏱</h2>
    <p class="modeInstr">Define duración y controla tu tiempo.</p>
    <div class="inputBlock" id="normalDurationInputBlock"><label>Duración (segundos):</label><input type="number" id="normalDuration" min="1"/></div>
    <div class="timerDisplay" id="normalTimer">00:00</div>
    <div class="btnContainer">
      <button id="normalStart">Iniciar ▶</button>
      <button id="normalPause" disabled>⏸ Pausar</button>
      <button id="normalReset" disabled>🔄 Reiniciar</button>
    </div>
  </div>

  <div id="intervalView" class="center" style="display:none;">
    <h2 class="modeTitle">Intervalos 🔄</h2>
    <p class="modeInstr">Configura tiempos de ejercicio y descanso.</p>
    <div class="phaseBox" id="intervalPhase">Fase: -</div>
    <div class="timerDisplay" id="intervalTimer">00:00</div>
    <div id="intervalInputs">
      <div class="inputBlock">
        <label>Duración ejercicio (segundos):</label>
        <input type="number" id="exerciseDuration" min="1"/>
      </div>
      <div class="inputBlock">
        <label>Descanso corto (segundos):</label>
        <input type="number" id="shortRest" min="1"/>
      </div>
      <div class="inputBlock">
        <label>Descanso largo (segundos):</label>
        <input type="number" id="longRest" min="1"/>
      </div>
      <div class="inputBlock">
        <label>Total de rondas:</label>
        <input type="number" id="totalRounds" min="1"/>
      </div>
    </div>
    <div class="btnContainer">
      <button id="intervalStart">▶ Iniciar</button>
      <button id="intervalPause" disabled>⏸ Pausar</button>
      <button id="intervalReset" disabled>🔄 Reiniciar</button>
    </div>
  </div>

  <div id="triviaView" class="center" style="display:none; max-width:900px;">
    <h2 class="modeTitle">Trivia Fitness 💪❓</h2>
    <p class="modeInstr">5 preguntas, responde o cumple un reto.</p>
    <p id="triviaProgress"></p>
    <div id="triviaCountdown" style="font-size: 3rem; font-weight: bold; color: #e74c3c; margin-bottom: 10px;"></div>
    <div id="triviaContainer">
      <div id="triviaQuestion"></div>
      <div id="triviaAnswers"></div>
    </div>
  </div>

  <div id="finalTriviaMessage" class="triviaCongratsBanner"></div>

  <div id="punishmentsSummaryView" class="center" style="display:none; max-width:900px;">
      <h2 class="modeTitle">Tus Castigos 😔</h2>
      <div id="punishmentsListContainer"></div>
      <button id="moreInfoPunishmentButton">Volver al Menú Principal</button>
  </div>

  <div id="infoModal" class="infoModal"></div>
  <button id="btnBack">← Volver</button>
  <footer>Hecho por Brayan Jaciel - Versión 1.0</footer>

  <div id="settingsToggle" title="Configuración">⚙️</div>
  <div id="settingsMenu">
    <h3>Paletas de Color</h3>
    <div id="paletteGrid" class="settings-grid palette-grid"></div>
    <button class="expand-button" onclick="toggleSettingsGrid('paletteGrid', 'palette-grid')">Mostrar más colores</button>

    <h3>Idiomas</h3>
    <div id="languageButtons" class="settings-grid language-grid"></div>
    <button class="expand-button" onclick="toggleSettingsGrid('languageButtons', 'language-grid')">Mostrar más idiomas</button>

    <h3>Voces</h3>
    <select id="voiceSelect"></select>
  </div>


  <button id="volumeControlBtn" title="Control de Volumen">🔊</button>
  <div id="volumeSliderContainer">
    <label for="volumeSlider">Volumen</label>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="1">
  </div>

  <!-- Las etiquetas de audio se han eliminado para evitar errores de "NotSupportedError" -->
  <!-- <audio id="tickSound" src="path/to/tick.mp3" preload="auto"></audio> -->
  <!-- <audio id="correctAnswerSound" src="path/to/correct.mp3" preload="auto"></audio> -->
  <!-- <audio id="incorrectAnswerSound" src="path/to/incorrect.mp3" preload="auto"></audio> -->


  <script>
    // Text-to-Speech Setup
    const synth = window.speechSynthesis;
    let allVoices = [];
    let currentVolume = 1; // Default volume
    let selectedVoice = null;
    let currentLanguage = 'es'; // Default language
    let currentView = 'welcome'; // Global variable to track current view
    let motivationInterval; // Global variable for motivation interval

    // New global variables for trivia state
    let triviaQuestions = [];
    let currentQuestionIndex = 0;
    let correctAnswersCount = 0;
    let triviaTimer;
    const totalTriviaQuestions = 5; // Now set to 5 questions per round
    const triviaQuestionTimeLimit = 15; // 15 seconds to answer each question
    let currentQuestionCountdown = triviaQuestionTimeLimit;
    let countdownInterval;

    // New array to store incurred punishments
    let incurredPunishments = [];

    const intervalPunishments = [
        { desc: 'Sentadilla de Castigo #1', howTo: 'Ponte de pie, baja la cadera como si te sentaras en una silla, manteniendo la espalda recta.', purpose: 'Fortalece piernas y glúteos.', reps: 15, img: 'https://cdn.pixabay.com/photo/2017/08/07/14/02/people-2604149_1280.jpg' },
        { desc: 'Sentadilla de Castigo #2', howTo: 'Ponte de pie, baja la cadera como si te sentaras en una silla, manteniendo la espalda recta.', purpose: 'Fortalece piernas y glúteos.', reps: 1, img: 'https://cdn.pixabay.com/photo/2017/08/07/14/02/people-2604149_1280.jpg' },
        { desc: 'Mountain Climber de Castigo #3', howTo: 'En posición de plancha, lleva alternadamente las rodillas al pecho, como si corrieras en el suelo.', purpose: 'Activa el core y es un ejercicio cardiovascular intenso.', reps: 38, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Woman_doing_Mountain_Climber_exercise.jpg/1024px-Woman_doing_Mountain_Climber_exercise.jpg' },
        { desc: 'Zancada de Castigo #4', howTo: 'Da un paso hacia adelante, baja la cadera hasta que ambas rodillas formen un ángulo de 90 grados.', purpose: 'Mejora la fuerza y equilibrio de las piernas.', reps: 42, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Woman_doing_lunge_exercise.jpg/1280px-Woman_doing_lunge_exercise.jpg' },
        { desc: 'Fondo de Tríceps de Castigo #5', howTo: 'Apoya las manos en un banco o silla detrás de ti, baja el cuerpo flexionando los codos hacia atrás.', purpose: 'Fortalece los tríceps y los hombros.', reps: 19, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Woman_doing_triceps_dips_exercise.jpg/1024px-Woman_doing_triceps_dips_exercise.jpg' },
        { desc: 'Sentadilla de Castigo #6', howTo: 'Ponte de pie, baja la cadera como si te sentaras en una silla, manteniendo la espalda recta.', purpose: 'Fortalece piernas y glúteos.', reps: 2, img: 'https://cdn.pixabay.com/photo/2017/08/07/14/02/people-2604149_1280.jpg' },
        { desc: 'Abdominal de Castigo #7', howTo: 'Acuéstate boca arriba, levanta el torso hacia las rodillas usando el core, sin forzar el cuello.', purpose: 'Fortalece los músculos abdominales.', reps: 38, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Woman_doing_crunches_exercise.jpg/1280px-Woman_doing_crunches_exercise.jpg' },
        { desc: 'Sentadilla de Castigo #8', howTo: 'Ponte de pie, baja la cadera como si te sentaras en una silla, manteniendo la espalda recta.', purpose: 'Fortalece piernas y glúteos.', reps: 11, img: 'https://cdn.pixabay.com/photo/2017/08/07/14/02/people-2604149_1280.jpg' },
        { desc: 'Elevación de Gemelos de Castigo #9', howTo: 'Ponte de puntillas, elevando el cuerpo lo más alto posible, y baja lentamente.', purpose: 'Fortalece los músculos de la pantorrilla.', reps: 16, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Calf_Raises.JPG/1280px-Calf_Raises.JPG' },
        { desc: 'Zancada de Castigo #10', howTo: 'Da un paso hacia adelante, baja la cadera hasta que ambas rodillas formen un ángulo de 90 grados.', purpose: 'Mejora la fuerza y equilibrio de las piernas.', reps: 25, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Woman_doing_lunge_exercise.jpg/1280px-Woman_doing_lunge_exercise.jpg' },
        { desc: 'Mountain Climber de Castigo #11', howTo: 'En posición de plancha, lleva alternadamente las rodillas al pecho, como si corrieras en el suelo.', purpose: 'Activa el core y es un ejercicio cardiovascular intenso.', reps: 2, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Woman_doing_Mountain_Climber_exercise.jpg/1024px-Woman_doing_Mountain_Climber_exercise.jpg' },
        { desc: 'Mountain Climber de Castigo #12', howTo: 'En posición de plancha, lleva alternadamente las rodillas al pecho, como si corrieras en el suelo.', purpose: 'Activa el core y es un ejercicio cardiovascular intenso.', reps: 17, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Woman_doing_Mountain_Climber_exercise.jpg/1024px-Woman_doing_Mountain_Climber_exercise.jpg' },
        { desc: 'Sentadilla de Castigo #13', howTo: 'Ponte de pie, baja la cadera como si te sentaras en una silla, manteniendo la espalda recta.', purpose: 'Fortalece piernas y glúteos.', reps: 48, img: 'https://cdn.pixabay.com/photo/2017/08/07/14/02/people-2604149_1280.jpg' },
        { desc: 'Sentadilla de Castigo #14', howTo: 'Ponte de pie, baja la cadera como si te sentaras en una silla, manteniendo la espalda recta.', purpose: 'Fortalece piernas y glúteos.', reps: 3, img: 'https://cdn.pixabay.com/photo/2017/08/07/14/02/people-2604149_1280.jpg' },
        { desc: 'Mountain Climber de Castigo #15', howTo: 'En posición de plancha, lleva alternadamente las rodillas al pecho, como si corrieras en el suelo.', purpose: 'Activa el core y es un ejercicio cardiovascular intenso.', reps: 18, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Woman_doing_Mountain_Climber_exercise.jpg/1024px-Woman_doing_Mountain_Climber_exercise.jpg' },
        { desc: 'Plancha de Castigo #16', howTo: 'Mantén el cuerpo recto como una tabla, apoyándote en antebrazos y puntas de los pies.', purpose: 'Fortalece el core y la espalda.', reps: 10, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Plank_exercise.jpg/1280px-Plank_exercise.jpg' },
        { desc: 'Zancada de Castigo #17', howTo: 'Da un paso hacia adelante, baja la cadera hasta que ambas rodillas formen un ángulo de 90 grados.', purpose: 'Mejora la fuerza y equilibrio de las piernas.', reps: 18, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Woman_doing_lunge_exercise.jpg/1280px-Woman_doing_lunge_exercise.jpg' },
        { desc: 'Zancada de Castigo #18', howTo: 'Da un paso hacia adelante, baja la cadera hasta que ambas rodillas formen un ángulo de 90 grados.', purpose: 'Mejora la fuerza y equilibrio de las piernas.', reps: 34, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Woman_doing_lunge_exercise.jpg/1280px-Woman_doing_lunge_exercise.jpg' },
        { desc: 'Mountain Climber de Castigo #19', howTo: 'En posición de plancha, lleva alternadamente las rodillas al pecho, como si corrieras en el suelo.', purpose: 'Activa el core y es un ejercicio cardiovascular intenso.', reps: 37, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Woman_doing_Mountain_Climber_exercise.jpg/1024px-Woman_doing_Mountain_Climber_exercise.jpg' },
        { desc: 'Abdominal de Castigo #20', howTo: 'Acuéstate boca arriba, levanta el torso hacia las rodillas usando el core, sin forzar el cuello.', purpose: 'Fortalece los músculos abdominales.', reps: 25, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Woman_doing_crunches_exercise.jpg/1280px-Woman_doing_crunches_exercise.jpg' },
        { desc: 'Abdominal de Castigo #21', howTo: 'Acuéstate boca arriba, levanta el torso hacia las rodillas usando el core, sin forzar el cuello.', purpose: 'Fortalece los músculos abdominales.', reps: 15, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Woman_doing_crunches_exercise.jpg/1280px-Woman_doing_crunches_exercise.jpg' },
        { desc: 'Mountain Climber de Castigo #22', howTo: 'En posición de plancha, lleva alternadamente las rodillas al pecho, como si corrieras en el suelo.', purpose: 'Activa el core y es un ejercicio cardiovascular intenso.', reps: 13, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Woman_doing_Mountain_Climber_exercise.jpg/1024px-Woman_doing_Mountain_Climber_exercise.jpg' },
        { desc: 'Abdominal de Castigo #23', howTo: 'Acuéstate boca arriba, levanta el torso hacia las rodillas usando el core, sin forzar el cuello.', purpose: 'Fortalece los músculos abdominales.', reps: 26, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Woman_doing_crunches_exercise.jpg/1280px-Woman_doing_crunches_exercise.jpg' },
        { desc: 'Burpee de Castigo #24', howTo: 'Combina una sentadilla, flexión, salto y elevación de brazos en un movimiento fluido.', purpose: 'Ejercicio de cuerpo completo, mejora la resistencia cardiovascular.', reps: 39, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Burpee_exercise.jpg/1280px-Burpee_exercise.jpg' },
        { desc: 'Plancha de Castigo #25', howTo: 'Mantén el cuerpo recto como una tabla, apoyándote en antebrazos y puntas de los pies.', purpose: 'Fortalece el core y la espalda.', reps: 35, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Plank_exercise.jpg/1280px-Plank_exercise.jpg' },
        { desc: 'Sentadilla de Castigo #26', howTo: 'Ponte de pie, baja la cadera como si te sentaras en una silla, manteniendo la espalda recta.', purpose: 'Fortalece piernas y glúteos.', reps: 35, img: 'https://cdn.pixabay.com/photo/2017/08/07/14/02/people-2604149_1280.jpg' },
        { desc: 'Abdominal de Castigo #27', howTo: 'Acuéstate boca arriba, levanta el torso hacia las rodillas usando el core, sin forzar el cuello.', purpose: 'Fortalece los músculos abdominales.', reps: 48, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Woman_doing_crunches_exercise.jpg/1280px-Woman_doing_crunches_exercise.jpg' },
        { desc: 'Plancha de Castigo #28', howTo: 'Mantén el cuerpo recto como una tabla, apoyándote en antebrazos y puntas de los pies.', purpose: 'Fortalece el core y la espalda.', reps: 39, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Plank_exercise.jpg/1280px-Plank_exercise.jpg' },
        { desc: 'Flexión de Castigo #29', howTo: 'Apóyate en manos y pies, baja el pecho al suelo, luego empuja hacia arriba.', purpose: 'Fortalece pecho, hombros y tríceps.', reps: 16, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Pushup.png/1280px-Pushup.png' },
        { desc: 'Fondo de Tríceps de Castigo #30', howTo: 'Apoya las manos en un banco o silla detrás de ti, baja el cuerpo flexionando los codos hacia atrás.', purpose: 'Fortalece los tríceps y los hombros.', reps: 16, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Woman_doing_triceps_dips_exercise.jpg/1024px-Woman_doing_triceps_dips_exercise.jpg' },
        { desc: 'Mountain Climber de Castigo #31', howTo: 'En posición de plancha, lleva alternadamente las rodillas al pecho, como si corrieras en el suelo.', purpose: 'Activa el core y es un ejercicio cardiovascular intenso.', reps: 42, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Woman_doing_Mountain_Climber_exercise.jpg/1024px-Woman_doing_Mountain_Climber_exercise.jpg' },
        { desc: 'Flexión de Castigo #32', howTo: 'Apóyate en manos y pies, baja el pecho al suelo, luego empuja hacia arriba.', purpose: 'Fortalece pecho, hombros y tríceps.', reps: 12, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Pushup.png/1280px-Pushup.png' },
        { desc: 'Abdominal de Castigo #33', howTo: 'Acuéstate boca arriba, levanta el torso hacia las rodillas usando el core, sin forzar el cuello.', purpose: 'Fortalece los músculos abdominales.', reps: 21, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Woman_doing_crunches_exercise.jpg/1280px-Woman_doing_crunches_exercise.jpg' },
        { desc: 'Burpee de Castigo #34', howTo: 'Combina una sentadilla, flexión, salto y elevación de brazos en un movimiento fluido.', purpose: 'Ejercicio de cuerpo completo, mejora la resistencia cardiovascular.', reps: 13, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Burpee_exercise.jpg/1280px-Burpee_exercise.jpg' },
        { desc: 'Elevación de Gemelos de Castigo #35', howTo: 'Ponte de puntillas, elevando el cuerpo lo más alto posible, y baja lentamente.', purpose: 'Fortalece los músculos de la pantorrilla.', reps: 34, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Calf_Raises.JPG/1280px-Calf_Raises.JPG' },
        { desc: 'Plancha de Castigo #36', howTo: 'Mantén el cuerpo recto como una tabla, apoyándote en antebrazos y puntas de los pies.', purpose: 'Fortalece el core y la espalda.', reps: 36, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Plank_exercise.jpg/1280px-Plank_exercise.jpg' },
        { desc: 'Zancada de Castigo #37', howTo: 'Da un paso hacia adelante, baja la cadera hasta que ambas rodillas formen un ángulo de 90 grados.', purpose: 'Mejora la fuerza y equilibrio de las piernas.', reps: 11, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Woman_doing_lunge_exercise.jpg/1280px-Woman_doing_lunge_exercise.jpg' },
        { desc: 'Sentadilla de Castigo #38', howTo: 'Ponte de pie, baja la cadera como si te sentaras en una silla, manteniendo la espalda recta.', purpose: 'Fortalece piernas y glúteos.', reps: 38, img: 'https://cdn.pixabay.com/photo/2017/08/07/14/02/people-2604149_1280.jpg' },
        { desc: 'Fondo de Tríceps de Castigo #39', howTo: 'Apoya las manos en un banco o silla detrás de ti, baja el cuerpo flexionando los codos hacia atrás.', purpose: 'Fortalece los tríceps y los hombros.', reps: 43, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Woman_doing_triceps_dips_exercise.jpg/1024px-Woman_doing_triceps_dips_exercise.jpg' },
        { desc: 'Abdominal de Castigo #40', howTo: 'Acuéstate boca arriba, levanta el torso hacia las rodillas usando el core, sin forzar el cuello.', purpose: 'Fortalece los músculos abdominales.', reps: 45, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Woman_doing_crunches_exercise.jpg/1280px-Woman_doing_crunches_exercise.jpg' },
        { desc: 'Flexión de Castigo #41', howTo: 'Apóyate en manos y pies, baja el pecho al suelo, luego empuja hacia arriba.', purpose: 'Fortalece pecho, hombros y tríceps.', reps: 13, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Pushup.png/1280px-Pushup.png' },
        { desc: 'Plancha de Castigo #42', howTo: 'Mantén el cuerpo recto como una tabla, apoyándote en antebrazos y puntas de los pies.', purpose: 'Fortalece el core y la espalda.', reps: 46, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Plank_exercise.jpg/1280px-Plank_exercise.jpg' },
        { desc: 'Zancada de Castigo #43', howTo: 'Da un paso hacia adelante, baja la cadera hasta que ambas rodillas formen un ángulo de 90 grados.', purpose: 'Mejora la fuerza y equilibrio de las piernas.', reps: 13, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Woman_doing_lunge_exercise.jpg/1280px-Woman_doing_lunge_exercise.jpg' },
        { desc: 'Sentadilla de Castigo #44', howTo: 'Ponte de pie, baja la cadera como si te sentaras en una silla, manteniendo la espalda recta.', purpose: 'Fortalece piernas y glúteos.', reps: 42, img: 'https://cdn.pixabay.com/photo/2017/08/07/14/02/people-2604149_1280.jpg' },
        { desc: 'Elevación de Gemelos de Castigo #45', howTo: 'Ponte de puntillas, elevando el cuerpo lo más alto posible, y baja lentamente.', purpose: 'Fortalece los músculos de la pantorrilla.', reps: 24, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Calf_Raises.JPG/1280px-Calf_Raises.JPG' },
        { desc: 'Burpee de Castigo #46', howTo: 'Combina una sentadilla, flexión, salto y elevación de brazos en un movimiento fluido.', purpose: 'Ejercicio de cuerpo completo, mejora la resistencia cardiovascular.', reps: 2, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Burpee_exercise.jpg/1280px-Burpee_exercise.jpg' },
        { desc: 'Flexión de Castigo #47', howTo: 'Apóyate en manos y pies, baja el pecho al suelo, luego empuja hacia arriba.', purpose: 'Fortalece pecho, hombros y tríceps.', reps: 33, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Pushup.png/1280px-Pushup.png' },
        { desc: 'Burpee de Castigo #48', howTo: 'Combina una sentadilla, flexión, salto y elevación de brazos en un movimiento fluido.', purpose: 'Ejercicio de cuerpo completo, mejora la resistencia cardiovascular.', reps: 13, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Burpee_exercise.jpg/1280px-Burpee_exercise.jpg' },
        { desc: 'Abdominal de Castigo #49', howTo: 'Acuéstate boca arriba, levanta el torso hacia las rodillas usando el core, sin forzar el cuello.', purpose: 'Fortalece los músculos abdominales.', reps: 49, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Woman_doing_crunches_exercise.jpg/1280px-Woman_doing_crunches_exercise.jpg' },
        { desc: 'Saltos de Tijera de Castigo #50', howTo: 'Abre y cierra brazos y piernas alternadamente mientras saltas.', purpose: 'Mejora la coordinación y es un excelente cardio.', reps: 20, img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Jumping_Jacks.JPG/1280px-Jumping_Jacks.JPG' }
    ];

    function loadVoices() {
      allVoices = synth.getVoices();
      populateVoiceDropdown();
      // Attempt to set a default voice if none selected or the selected one is gone
      if (!selectedVoice && allVoices.length > 0) {
        // Try to find a Spanish voice, otherwise just take the first
        selectedVoice = allVoices.find(voice => voice.lang.includes('es')) || allVoices[0];
      }
    }

    loadVoices();
    if (synth.onvoiceschanged !== undefined) {
      synth.onvoiceschanged = loadVoices;
    }

    function populateVoiceDropdown() {
      const voiceSelect = document.getElementById('voiceSelect');
      voiceSelect.innerHTML = ''; // Clear existing options

      // Filter voices by current language
      let filteredVoices = allVoices.filter(voice => voice.lang.includes(currentLanguage));

      // Removed the limitation to 30 voices, now all available voices for the language will be shown.
      // if (filteredVoices.length > 30) {
      //   filteredVoices = filteredVoices.slice(0, 30);
      // }

      filteredVoices.forEach(voice => {
        const option = document.createElement('option');
        option.textContent = `${voice.name} (${voice.lang})`;
        option.value = voice.name;
        if (selectedVoice && voice.name === selectedVoice.name) {
          option.selected = true;
        }
        voiceSelect.appendChild(option);
      });

      // If after filtering, the previously selected voice is no longer available,
      // try to select a new default for the current language.
      const currentlySelectedOption = voiceSelect.querySelector('option:checked');
      if (!currentlySelectedOption && filteredVoices.length > 0) {
          selectedVoice = filteredVoices[0];
          voiceSelect.value = selectedVoice.name;
      } else if (currentlySelectedOption) {
          selectedVoice = allVoices.find(voice => voice.name === currentlySelectedOption.value);
      }


      voiceSelect.onchange = () => {
        selectedVoice = allVoices.find(voice => voice.name === voiceSelect.value);
        // Optional: Speak a test phrase with the new voice/language
        // speak(translations[currentLanguage].testPhrase || "Hello, this is a test.");
      };
    }

    function speak(text) {
      if (synth.speaking) {
        synth.cancel();
      }
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = currentLanguage;
      utterance.rate = 1;
      utterance.pitch = 1;
      utterance.volume = currentVolume;
      // Try to use the selected voice, if it supports the current language
      if (selectedVoice && selectedVoice.lang.includes(currentLanguage)) {
        utterance.voice = selectedVoice;
      } else {
        // Fallback: try to find any voice for the current language
        const langVoice = allVoices.find(voice => voice.lang.includes(currentLanguage));
        if (langVoice) {
          utterance.voice = langVoice;
        } else {
          // If no specific language voice found, just use any voice (browser default)
          utterance.voice = selectedVoice; // This line might need adjustment to simply rely on browser default if no suitable voice.
        }
      }
      synth.speak(utterance);
    }

    // Funciones para reproducir sonido (eliminadas para evitar errores de "NotSupportedError")
    function playIncorrectSound() {
      // const audio = document.getElementById('incorrectAnswerSound');
      // if (audio) {
      //   audio.currentTime = 0; // Rewind to start
      //   audio.play();
      // }
    }

    function playCorrectSound() {
        // const audio = document.getElementById('correctAnswerSound');
        // if (audio) {
        //     audio.currentTime = 0;
        //     audio.play();
        // }
    }

    let motivationFloaterId;
    function showMotivationFloater(message) {
      const floater = document.createElement('div');
      floater.classList.add('motivation');
      floater.textContent = message;
      floater.style.left = `${Math.random() * 80 + 10}%`; // Random horizontal position
      floater.style.top = `${Math.random() * 20 + 70}%`; // Start near bottom
      document.body.appendChild(floater);

      // Remove after animation
      floater.addEventListener('animationend', () => {
        floater.remove();
      });
    }

    function stopMotivationFloater() {
      // No need to explicitly stop if using animationend
    }

    // New trivia functions and modifications
    const allPossibleTriviaQuestions = [
        {
          questionKey: "trivia_q1",
          answerKeys: [
            { key: "trivia_a1_opt1", isCorrect: false },
            { key: "trivia_a1_opt2", isCorrect: true },
            { key: "trivia_a1_opt3", isCorrect: false },
            { key: "trivia_a1_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q2",
          answerKeys: [
            { key: "trivia_a2_opt1", isCorrect: false },
            { key: "trivia_a2_opt2", isCorrect: false },
            { key: "trivia_a2_opt3", isCorrect: true },
            { key: "trivia_a2_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q3",
          answerKeys: [
            { key: "trivia_a3_opt1", isCorrect: false },
            { key: "trivia_a3_opt2", isCorrect: false },
            { key: "trivia_a3_opt3", isCorrect: true },
            { key: "trivia_a3_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q4",
          answerKeys: [
            { key: "trivia_a4_opt1", isCorrect: true },
            { key: "trivia_a4_opt2", isCorrect: false },
            { key: "trivia_a4_opt3", isCorrect: false },
            { key: "trivia_a4_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q5",
          answerKeys: [
            { key: "trivia_a5_opt1", isCorrect: false },
            { key: "trivia_a5_opt2", isCorrect: false },
            { key: "trivia_a5_opt3", isCorrect: true },
            { key: "trivia_a5_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q6",
          answerKeys: [
            { key: "trivia_a6_opt1", isCorrect: false },
            { key: "trivia_a6_opt2", isCorrect: false },
            { key: "trivia_a6_opt3", isCorrect: true },
            { key: "trivia_a6_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q7",
          answerKeys: [
            { key: "trivia_a7_opt1", isCorrect: false },
            { key: "trivia_a7_opt2", isCorrect: false },
            { key: "trivia_a7_opt3", isCorrect: true },
            { key: "trivia_a7_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q8",
          answerKeys: [
            { key: "trivia_a8_opt1", isCorrect: false },
            { key: "trivia_a8_opt2", isCorrect: false },
            { key: "trivia_a8_opt3", isCorrect: false },
            { key: "trivia_a8_opt4", isCorrect: true }
          ]
        },
        {
          questionKey: "trivia_q9",
          answerKeys: [
            { key: "trivia_a9_opt1", isCorrect: false },
            { key: "trivia_a9_opt2", isCorrect: false },
            { key: "trivia_a9_opt3", isCorrect: true },
            { key: "trivia_a9_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q10",
          answerKeys: [
            { key: "trivia_a10_opt1", isCorrect: false },
            { key: "trivia_a10_opt2", isCorrect: false },
            { key: "trivia_a10_opt3", isCorrect: true },
            { key: "trivia_a10_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q11",
          answerKeys: [
            { key: "trivia_a11_opt1", isCorrect: false },
            { key: "trivia_a11_opt2", isCorrect: true },
            { key: "trivia_a11_opt3", isCorrect: false },
            { key: "trivia_a11_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q12",
          answerKeys: [
            { key: "trivia_a12_opt1", isCorrect: false },
            { key: "trivia_a12_opt2", isCorrect: false },
            { key: "trivia_a12_opt3", isCorrect: true },
            { key: "trivia_a12_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q13",
          answerKeys: [
            { key: "trivia_a13_opt1", isCorrect: false },
            { key: "trivia_a13_opt2", isCorrect: false },
            { key: "trivia_a13_opt3", isCorrect: true },
            { key: "trivia_a13_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q14",
          answerKeys: [
            { key: "trivia_a14_opt1", isCorrect: true },
            { key: "trivia_a14_opt2", isCorrect: false },
            { key: "trivia_a14_opt3", isCorrect: false },
            { key: "trivia_a14_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q15",
          answerKeys: [
            { key: "trivia_a15_opt1", isCorrect: false },
            { key: "trivia_a15_opt2", isCorrect: false },
            { key: "trivia_a15_opt3", isCorrect: true },
            { key: "trivia_a15_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q16",
          answerKeys: [
            { key: "trivia_a16_opt1", isCorrect: false },
            { key: "trivia_a16_opt2", isCorrect: false },
            { key: "trivia_a16_opt3", isCorrect: true },
            { key: "trivia_a16_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q17",
          answerKeys: [
            { key: "trivia_a17_opt1", isCorrect: false },
            { key: "trivia_a17_opt2", isCorrect: true },
            { key: "trivia_a17_opt3", isCorrect: false },
            { key: "trivia_a17_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q18",
          answerKeys: [
            { key: "trivia_a18_opt1", isCorrect: false },
            { key: "trivia_a18_opt2", isCorrect: true },
            { key: "trivia_a18_opt3", isCorrect: false },
            { key: "trivia_a18_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q19",
          answerKeys: [
            { key: "trivia_a19_opt1", isCorrect: false },
            { key: "trivia_a19_opt2", isCorrect: false },
            { key: "trivia_a19_opt3", isCorrect: true },
            { key: "trivia_a19_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q20",
          answerKeys: [
            { key: "trivia_a20_opt1", isCorrect: false },
            { key: "trivia_a20_opt2", isCorrect: false },
            { key: "trivia_a20_opt3", isCorrect: true },
            { key: "trivia_a20_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q21",
          answerKeys: [
            { key: "trivia_a21_opt1", isCorrect: false },
            { key: "trivia_a21_opt2", isCorrect: true },
            { key: "trivia_a21_opt3", isCorrect: false },
            { key: "trivia_a21_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q22",
          answerKeys: [
            { key: "trivia_a22_opt1", isCorrect: false },
            { key: "trivia_a22_opt2", isCorrect: false },
            { key: "trivia_a22_opt3", isCorrect: true },
            { key: "trivia_a22_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q23",
          answerKeys: [
            { key: "trivia_a23_opt1", isCorrect: false },
            { key: "trivia_a23_opt2", isCorrect: true },
            { key: "trivia_a23_opt3", isCorrect: false },
            { key: "trivia_a23_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q24",
          answerKeys: [
            { key: "trivia_a24_opt1", isCorrect: false },
            { key: "trivia_a24_opt2", isCorrect: false },
            { key: "trivia_a24_opt3", isCorrect: true },
            { key: "trivia_a24_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q25",
          answerKeys: [
            { key: "trivia_a25_opt1", isCorrect: false },
            { key: "trivia_a25_opt2", isCorrect: false },
            { key: "trivia_a25_opt3", isCorrect: true },
            { key: "trivia_a25_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q26",
          answerKeys: [
            { key: "trivia_a26_opt1", isCorrect: false },
            { key: "trivia_a26_opt2", isCorrect: true },
            { key: "trivia_a26_opt3", isCorrect: false },
            { key: "trivia_a26_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q27",
          answerKeys: [
            { key: "trivia_a27_opt1", isCorrect: false },
            { key: "trivia_a27_opt2", isCorrect: false },
            { key: "trivia_a27_opt3", isCorrect: true },
            { key: "trivia_a27_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q28",
          answerKeys: [
            { key: "trivia_a28_opt1", isCorrect: false },
            { key: "trivia_a28_opt2", isCorrect: false },
            { key: "trivia_a28_opt3", isCorrect: true },
            { key: "trivia_a28_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q29",
          answerKeys: [
            { key: "trivia_a29_opt1", isCorrect: true },
            { key: "trivia_a29_opt2", isCorrect: false },
            { key: "trivia_a29_opt3", isCorrect: false },
            { key: "trivia_a29_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q30",
          answerKeys: [
            { key: "trivia_a30_opt1", isCorrect: false },
            { key: "trivia_a30_opt2", isCorrect: false },
            { key: "trivia_a30_opt3", isCorrect: true },
            { key: "trivia_a30_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q31",
          answerKeys: [
            { key: "trivia_a31_opt1", isCorrect: false },
            { key: "trivia_a31_opt2", isCorrect: false },
            { key: "trivia_a31_opt3", isCorrect: true },
            { key: "trivia_a31_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q32",
          answerKeys: [
            { key: "trivia_a32_opt1", isCorrect: false },
            { key: "trivia_a32_opt2", isCorrect: true },
            { key: "trivia_a32_opt3", isCorrect: false },
            { key: "trivia_a32_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q33",
          answerKeys: [
            { key: "trivia_a33_opt1", isCorrect: false },
            { key: "trivia_a33_opt2", isCorrect: true },
            { key: "trivia_a33_opt3", isCorrect: false },
            { key: "trivia_a33_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q34",
          answerKeys: [
            { key: "trivia_a34_opt1", isCorrect: false },
            { key: "trivia_a34_opt2", isCorrect: false },
            { key: "trivia_a34_opt3", isCorrect: true },
            { key: "trivia_a34_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q35",
          answerKeys: [
            { key: "trivia_a35_opt1", isCorrect: false },
            { key: "trivia_a35_opt2", isCorrect: true },
            { key: "trivia_a35_opt3", isCorrect: false },
            { key: "trivia_a35_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q36",
          answerKeys: [
            { key: "trivia_a36_opt1", isCorrect: false },
            { key: "trivia_a36_opt2", isCorrect: true },
            { key: "trivia_a36_opt3", isCorrect: false },
            { key: "trivia_a36_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q37",
          answerKeys: [
            { key: "trivia_a37_opt1", isCorrect: true },
            { key: "trivia_a37_opt2", isCorrect: false },
            { key: "trivia_a37_opt3", isCorrect: false },
            { key: "trivia_a37_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q38",
          answerKeys: [
            { key: "trivia_a38_opt1", isCorrect: false },
            { key: "trivia_a38_opt2", isCorrect: false },
            { key: "trivia_a38_opt3", isCorrect: true },
            { key: "trivia_a38_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q39",
          answerKeys: [
            { key: "trivia_a39_opt1", isCorrect: false },
            { key: "trivia_a39_opt2", isCorrect: true },
            { key: "trivia_a39_opt3", isCorrect: false },
            { key: "trivia_a39_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q40",
          answerKeys: [
            { key: "trivia_a40_opt1", isCorrect: false },
            { key: "trivia_a40_opt2", isCorrect: true },
            { key: "trivia_a40_opt3", isCorrect: false },
            { key: "trivia_a40_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q41",
          answerKeys: [
            { key: "trivia_a41_opt1", isCorrect: false },
            { key: "trivia_a41_opt2", isCorrect: false },
            { key: "trivia_a41_opt3", isCorrect: true },
            { key: "trivia_a41_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q42",
          answerKeys: [
            { key: "trivia_a42_opt1", isCorrect: true },
            { key: "trivia_a42_opt2", isCorrect: false },
            { key: "trivia_a42_opt3", isCorrect: false },
            { key: "trivia_a42_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q43",
          answerKeys: [
            { key: "trivia_a43_opt1", isCorrect: false },
            { key: "trivia_a43_opt2", isCorrect: true },
            { key: "trivia_a43_opt3", isCorrect: false },
            { key: "trivia_a43_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q44",
          answerKeys: [
            { key: "trivia_a44_opt1", isCorrect: false },
            { key: "trivia_a44_opt2", isCorrect: true },
            { key: "trivia_a44_opt3", isCorrect: false },
            { key: "trivia_a44_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q45",
          answerKeys: [
            { key: "trivia_a45_opt1", isCorrect: false },
            { key: "trivia_a45_opt2", isCorrect: true },
            { key: "trivia_a45_opt3", isCorrect: false },
            { key: "trivia_a45_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q46",
          answerKeys: [
            { key: "trivia_a46_opt1", isCorrect: false },
            { key: "trivia_a46_opt2", isCorrect: true },
            { key: "trivia_a46_opt3", isCorrect: false },
            { key: "trivia_a46_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q47",
          answerKeys: [
            { key: "trivia_a47_opt1", isCorrect: true },
            { key: "trivia_a47_opt2", isCorrect: false },
            { key: "trivia_a47_opt3", isCorrect: false },
            { key: "trivia_a47_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q48",
          answerKeys: [
            { key: "trivia_a48_opt1", isCorrect: true },
            { key: "trivia_a48_opt2", isCorrect: false },
            { key: "trivia_a48_opt3", isCorrect: false },
            { key: "trivia_a48_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q49",
          answerKeys: [
            { key: "trivia_a49_opt1", isCorrect: false },
            { key: "trivia_a49_opt2", isCorrect: true },
            { key: "trivia_a49_opt3", isCorrect: false },
            { key: "trivia_a49_opt4", isCorrect: false }
          ]
        },
        {
          questionKey: "trivia_q50",
          answerKeys: [
            { key: "trivia_a50_opt1", isCorrect: false },
            { key: "trivia_a50_opt2", isCorrect: true },
            { key: "trivia_a50_opt3", isCorrect: false },
            { key: "trivia_a50_opt4", isCorrect: false }
          ]
        }
    ];

    function getTriviaQuestions() {
      // Shuffle all possible questions and then take the first 'totalTriviaQuestions'
      const shuffledAllQuestions = allPossibleTriviaQuestions.sort(() => Math.random() - 0.5);
      return shuffledAllQuestions.slice(0, totalTriviaQuestions);
    }

    function initTrivia() {
      showView('triviaView');
      document.getElementById('btnBack').style.display = 'block';
      currentQuestionIndex = 0;
      correctAnswersCount = 0;
      incurredPunishments = []; // Reset punishments at the start of a new game
      document.getElementById('finalTriviaMessage').style.display = 'none'; // Hide final message
      document.getElementById('punishmentsSummaryView').style.display = 'none'; // Hide punishments view
      document.getElementById('triviaCountdown').textContent = ''; // Clear countdown display

      triviaQuestions = getTriviaQuestions(); // Get a fresh set of shuffled questions
      displayQuestion();
    }

    function startQuestionTimer() {
        clearInterval(countdownInterval); // Clear any existing interval
        currentQuestionCountdown = triviaQuestionTimeLimit;
        const countdownElem = document.getElementById('triviaCountdown');
        countdownElem.textContent = formatTime(currentQuestionCountdown);

        countdownInterval = setInterval(() => {
            currentQuestionCountdown--;
            countdownElem.textContent = formatTime(currentQuestionCountdown);
            if (currentQuestionCountdown <= 0) {
                clearInterval(countdownInterval);
                // Time's up, treat as incorrect answer
                speak(translations[currentLanguage].timeUp || "¡Tiempo! Respuesta incorrecta.");
                // playIncorrectSound(); // Eliminado para evitar errores de audio
                recordPunishment();
                setTimeout(displayQuestion, 1500); // Wait a bit before next question
            } else if (currentQuestionCountdown <= 5 && currentQuestionCountdown > 0) {
              // Play a tick sound for the last 5 seconds (eliminado para evitar errores de audio)
              // const tickAudio = document.getElementById('tickSound');
              // if (tickAudio) {
              //   tickAudio.currentTime = 0;
              //   tickAudio.play();
              // }
            }
        }, 1000);
    }


    function displayQuestion() {
      clearInterval(countdownInterval); // Stop any running timer for the previous question

      const triviaQuestionElem = document.getElementById('triviaQuestion');
      const triviaAnswersElem = document.getElementById('triviaAnswers');
      const triviaProgressElem = document.getElementById('triviaProgress');

      if (currentQuestionIndex < totalTriviaQuestions) {
        const question = triviaQuestions[currentQuestionIndex];
        const questionText = translations[currentLanguage][question.questionKey] || translations['es'][question.questionKey]; // Fallback to Spanish
        triviaQuestionElem.textContent = questionText;
        speak(questionText);
        triviaAnswersElem.innerHTML = '';

        // Shuffle answers for the current question
        const shuffledAnswers = question.answerKeys.sort(() => Math.random() - 0.5);

        shuffledAnswers.forEach(answer => {
          const button = document.createElement('button');
          const answerText = translations[currentLanguage][answer.key] || translations['es'][answer.key]; // Fallback to Spanish
          button.textContent = answerText;
          button.onclick = () => selectAnswer(answer.isCorrect, button);
          triviaAnswersElem.appendChild(button);
        });

        triviaProgressElem.textContent = `${translations[currentLanguage].question} ${currentQuestionIndex + 1} / ${totalTriviaQuestions}`;
        startQuestionTimer(); // Start timer for the new question
      } else {
        // End of trivia, show summary
        endTrivia();
      }
    }

    function selectAnswer(isCorrect, button) {
      clearInterval(countdownInterval); // Stop the timer when an answer is selected

      // Disable all answer buttons after selection
      Array.from(document.getElementById('triviaAnswers').children).forEach(btn => {
        btn.disabled = true;
      });

      if (isCorrect) {
        correctAnswersCount++;
        button.classList.add('answerCorrect');
        speak(translations[currentLanguage].correctAnswer + " " + (translations[currentLanguage].triviaCorrectSound || "¡Ding-dong!"));
        showMotivationFloater(translations[currentLanguage].motivations.trivia[Math.floor(Math.random() * translations[currentLanguage].motivations.trivia.length)]);
      } else {
        button.classList.add('answerIncorrect');
        speak(translations[currentLanguage].incorrectAnswer + " " + (translations[currentLanguage].triviaIncorrectSound || "¡Buzzzzz!"));
        recordPunishment(); // Record a punishment for incorrect answers
      }

      currentQuestionIndex++;
      setTimeout(displayQuestion, 1500); // Wait a bit before loading the next question
    }

    function recordPunishment() {
      // Get a random punishment from the intervalPunishments list
      // Ensure we don't pick the same punishment twice in a row if possible
      let newPunishment;
      let lastPunishmentIndex = incurredPunishments.length > 0 ? intervalPunishments.indexOf(incurredPunishments[incurredPunishments.length - 1]) : -1;
      do {
          newPunishment = intervalPunishments[Math.floor(Math.random() * intervalPunishments.length)];
      } while (intervalPunishments.indexOf(newPunishment) === lastPunishmentIndex && intervalPunishments.length > 1);

      incurredPunishments.push(newPunishment);
    }

    function endTrivia() {
      clearInterval(countdownInterval); // Ensure timer is stopped

      const finalTriviaMessageElem = document.getElementById('finalTriviaMessage');
      const punishmentsSummaryViewElem = document.getElementById('punishmentsSummaryView');
      const punishmentsListContainer = document.getElementById('punishmentsListContainer');

      if (incurredPunishments.length === 0) {
        // All correct! Show a congratulatory message
        finalTriviaMessageElem.innerHTML = `
          <h2 class="finalTriviaHeader">${translations[currentLanguage].triviaPerfectScore || "¡Perfecto! ¡Sin castigos!"} 🎉</h2>
          <p>${translations[currentLanguage].triviaCongratsMessage || "Has respondido todas las preguntas correctamente. ¡Eres un campeón del fitness!"}</p>
          <button id="finalTriviaReturnToMain" style="background:#3a7bd5;color:#fff;padding:12px 25px;border-radius:10px; margin-top: 20px;">Volver al Menú Principal</button>
        `;
        finalTriviaMessageElem.style.display = 'flex';
        speak(translations[currentLanguage].triviaPerfectScore || "¡Perfecto! ¡Sin castigos!");
        document.getElementById('finalTriviaReturnToMain').addEventListener('click', returnToMain);
      } else {
        // Show punishments
        punishmentsSummaryViewElem.style.display = 'flex';
        punishmentsListContainer.innerHTML = '<h4>Castigos por respuestas incorrectas:</h4>';
        incurredPunishments.forEach((punishment, index) => {
            const punishmentItem = document.createElement('div');
            punishmentItem.classList.add('punishmentItem');
            punishmentItem.innerHTML = `
                <p><strong>${punishment.desc}</strong> (${punishment.reps} ${translations[currentLanguage].reps || 'repeticiones'})</p>
                <p>${translations[currentLanguage].howTo || 'Cómo hacerlo:'} ${punishment.howTo}</p>
                <p>${punishment.purpose || 'Propósito:'} ${punishment.purpose}</p>
                ${punishment.img ? `<button class="small-info-btn" data-title="${punishment.desc}" data-how-to="${punishment.howTo}" data-purpose="${punishment.purpose}" data-img="${punishment.img}">${translations[currentLanguage].moreInfo || 'Más información'}</button>` : ''}
            `;
            punishmentsListContainer.appendChild(punishmentItem);
        });
        speak(`${translations[currentLanguage].triviaPunishmentSummary || "Has acumulado algunos castigos. ¡Es hora de ponerte en forma!"} `);
        // Add event listeners for info buttons after they are added to the DOM
        document.querySelectorAll('.small-info-btn').forEach(button => {
            button.addEventListener('click', (event) => {
                const title = event.target.dataset.title;
                const howTo = event.target.dataset.howTo;
                const purpose = event.target.dataset.purpose;
                const img = event.target.dataset.img;
                showInfoModal(title, howTo, purpose, img);
            });
        });
      }
    }

    function showInfoModal(title, howTo, purpose, imageUrl) {
        const modal = document.getElementById('infoModal');
        modal.innerHTML = `
            <h3>${title}</h3>
            <p><strong>${translations[currentLanguage].howTo || 'Cómo hacerlo:'}</strong> ${howTo}</p>
            <p><strong>${translations[currentLanguage].purpose || 'Propósito:'}</strong> ${purpose}</p>
            ${imageUrl ? `<img src="${imageUrl}" alt="${title}" style="max-width:100%; height:auto; margin-top:15px; border-radius:8px;">` : ''}
            <button id="closeInfoModalBtn" style="background:#e74c3c;color:#fff;padding:8px 15px;border-radius:8px;margin-top:15px;">Cerrar</button>
        `;
        modal.style.display = 'block';
        document.getElementById('closeInfoModalBtn').addEventListener('click', hideInfoModal);
    }

    function hideInfoModal() {
        document.getElementById('infoModal').style.display = 'none';
    }

    // Global function to manage view display
    function showView(viewId) {
      const views = ['welcome', 'mainView', 'normalView', 'intervalView', 'triviaView', 'punishmentsSummaryView'];
      views.forEach(id => {
        const view = document.getElementById(id);
        if (view) {
          view.style.display = (id === viewId) ? 'flex' : 'none';
        }
      });
      currentView = viewId; // Update current view

      // Handle back button visibility
      document.getElementById('btnBack').style.display = (viewId !== 'welcome' && viewId !== 'mainView') ? 'block' : 'none';

      // Hide settings menu if open when changing views
      document.getElementById('settingsMenu').classList.remove('show');

      // Motivation interval is now continuous, no need to manage here based on view.
      // The trivia-specific motivation is triggered directly in selectAnswer.
    }

    // Function to start the continuous motivation floater
    function startContinuousMotivation() {
        clearInterval(motivationInterval); // Clear any existing interval
        motivationInterval = setInterval(() => {
            const phrases = translations[currentLanguage].motivations.general;
            if (phrases && phrases.length > 0) {
                const randomPhrase = phrases[Math.floor(Math.random() * phrases.length)];
                showMotivationFloater(randomPhrase);
            }
        }, 8000); // Every 8 seconds
    }


    function returnToMain() {
      showView('mainView');
      // Reset any active timers or states when returning to main menu
      clearInterval(normalTimer);
      clearInterval(intervalTimer);
      clearInterval(countdownInterval);
      // motivationInterval should continue running as it's general
      synth.cancel(); // Stop any ongoing speech
      document.getElementById('normalTimer').textContent = '00:00';
      document.getElementById('intervalTimer').textContent = '00:00';
      document.getElementById('normalStart').disabled = false;
      document.getElementById('normalPause').disabled = true;
      document.getElementById('normalReset').disabled = true;
      document.getElementById('intervalStart').disabled = false;
      document.getElementById('intervalPause').disabled = true;
      document.getElementById('intervalReset').disabled = true;
      document.getElementById('finalTriviaMessage').style.display = 'none';
      document.getElementById('punishmentsSummaryView').style.display = 'none';

      // Ensure inputs are visible when returning to main menu or switching modes
      document.getElementById('normalDurationInputBlock').style.display = 'block';
      document.getElementById('intervalInputs').style.display = 'grid'; // Or 'flex' depending on original display
    }

    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const remainingSeconds = seconds % 60;
      return `${String(minutes).padStart(2, '0')}:${String(remainingSeconds).padStart(2, '0')}`;
    }

    // Normal Timer Mode
    let normalTimer;
    let normalDurationTotal;
    let normalTimeRemaining;
    let normalPaused = false;

    function initNormal() {
      showView('normalView');
      const normalDurationInput = document.getElementById('normalDuration');
      const normalTimerDisplay = document.getElementById('normalTimer');

      normalDurationInput.value = '180'; // Default to 3 minutes
      normalTimer = null;
      normalPaused = false;
      normalDurationTotal = parseInt(normalDurationInput.value) || 0;
      normalTimeRemaining = normalDurationTotal;
      normalTimerDisplay.textContent = formatTime(normalTimeRemaining);
      document.getElementById('normalStart').disabled = false;
      document.getElementById('normalPause').disabled = true;
      document.getElementById('normalReset').disabled = true;
      document.getElementById('normalDurationInputBlock').style.display = 'block'; // Ensure it's visible when initializing
      speak(translations[currentLanguage].normalModeWelcome || "Modo Cronómetro. Define tu duración.");

      // Add event listener for real-time update
      // Ensure this listener is only added once
      if (!normalDurationInput.dataset.listenerAdded) {
        normalDurationInput.addEventListener('input', () => {
          if (!normalTimer) { // Only update if timer is not running
            const newDuration = parseInt(normalDurationInput.value) || 0;
            normalTimeRemaining = newDuration;
            normalTimerDisplay.textContent = formatTime(normalTimeRemaining);
          }
        });
        normalDurationInput.dataset.listenerAdded = 'true';
      }
    }

    function startNormal() {
        const durationInput = document.getElementById('normalDuration');
        const duration = parseInt(durationInput.value);
        if (isNaN(duration) || duration <= 0) {
            speak(translations[currentLanguage].validDuration || "Por favor, introduce una duración válida.");
            return;
        }

        normalDurationTotal = duration;
        if (!normalPaused) { // Only reset if not paused and starting fresh
            normalTimeRemaining = normalDurationTotal;
        }
        normalPaused = false;

        document.getElementById('normalStart').disabled = true;
        document.getElementById('normalPause').disabled = false;
        document.getElementById('normalReset').disabled = false;
        
        // Ocultar el bloque de entrada de duración
        document.getElementById('normalDurationInputBlock').style.display = 'none';

        normalTimer = setInterval(() => {
            if (!normalPaused) {
                normalTimeRemaining--;
                document.getElementById('normalTimer').textContent = formatTime(normalTimeRemaining);

                if (normalTimeRemaining <= 10 && normalTimeRemaining > 0) {
                    speak(normalTimeRemaining.toString()); // Speak last 10 seconds
                }

                if (normalTimeRemaining <= 0) {
                    clearInterval(normalTimer);
                    speak(translations[currentLanguage].timeUp || "¡Tiempo!");
                    document.getElementById('normalStart').disabled = false; // Allow restart
                    document.getElementById('normalPause').disabled = true;
                    document.getElementById('normalDurationInputBlock').style.display = 'block'; // Mostrar de nuevo al finalizar
                    showMotivationFloater(translations[currentLanguage].congratulations || "¡Felicidades, meta alcanzada!");
                }
            }
        }, 1000);
        speak(translations[currentLanguage].normalTimerStarted || "Cronómetro iniciado.");
    }

    function togglePauseNormal() {
        normalPaused = !normalPaused;
        const pauseButton = document.getElementById('normalPause');
        if (normalPaused) {
            pauseButton.textContent = '▶ Reanudar';
            speak(translations[currentLanguage].normalTimerPaused || "Cronómetro pausado.");
        } else {
            pauseButton.textContent = '⏸ Pausar';
            speak(translations[currentLanguage].normalTimerResumed || "Cronómetro reanudado.");
        }
    }

    function resetNormal() {
        clearInterval(normalTimer);
        normalPaused = false;
        const normalDurationInput = document.getElementById('normalDuration');
        const normalTimerDisplay = document.getElementById('normalTimer');
        normalTimeRemaining = parseInt(normalDurationInput.value) || 0; // Reset to current input value
        normalTimerDisplay.textContent = formatTime(normalTimeRemaining);
        document.getElementById('normalStart').disabled = false;
        document.getElementById('normalPause').disabled = true;
        document.getElementById('normalReset').disabled = true;
        document.getElementById('normalPause').textContent = '⏸ Pausar';
        document.getElementById('normalDurationInputBlock').style.display = 'block'; // Mostrar de nuevo al reiniciar
        speak(translations[currentLanguage].normalTimerReset || "Cronómetro reiniciado.");
    }


    // Interval Timer Mode
    let intervalTimer;
    let intervalTimeRemaining;
    let currentIntervalPhase; // 'exercise', 'shortRest', 'longRest'
    let currentRound; // Tracks the current round number (1-based for display)
    let totalRounds; // Total number of exercise + short rest rounds
    let exerciseDuration;
    let shortRest;
    let longRest;
    let intervalPaused = false;

    function initInterval() {
        showView('intervalView');
        const exerciseDurationInput = document.getElementById('exerciseDuration');
        const shortRestInput = document.getElementById('shortRest');
        const longRestInput = document.getElementById('longRest');
        const totalRoundsInput = document.getElementById('totalRounds');
        const intervalTimerDisplay = document.getElementById('intervalTimer');

        // Set default values
        exerciseDurationInput.value = '60';
        shortRestInput.value = '30';
        longRestInput.value = '120';
        totalRoundsInput.value = '2'; // Default to 2 rounds for the example

        resetIntervalState();
        document.getElementById('intervalInputs').style.display = 'grid'; // Ensure it's visible when initializing
        speak(translations[currentLanguage].intervalModeWelcome || "Modo Intervalos. Configura tus tiempos.");

        // Add event listeners for real-time update on exercise duration
        if (!exerciseDurationInput.dataset.listenerAdded) {
            exerciseDurationInput.addEventListener('input', () => {
              if (!intervalTimer) { // Only update if timer is not running
                const newDuration = parseInt(exerciseDurationInput.value) || 0;
                intervalTimerDisplay.textContent = formatTime(newDuration);
                document.getElementById('intervalPhase').textContent = `${translations[currentLanguage].phase || 'Fase:'} ${translations[currentLanguage].exercise || 'ejercicio'} (Ronda 1 de ${totalRoundsInput.value})`;
              }
            });
            exerciseDurationInput.dataset.listenerAdded = 'true';
        }
    }

    function resetIntervalState() {
        clearInterval(intervalTimer);
        intervalPaused = false;
        intervalTimeRemaining = 0;
        currentIntervalPhase = '';
        currentRound = 0;
        totalRounds = 0;
        exerciseDuration = 0;
        shortRest = 0;
        longRest = 0;

        const exerciseDurationInput = document.getElementById('exerciseDuration');
        const intervalTimerDisplay = document.getElementById('intervalTimer');
        intervalTimerDisplay.textContent = formatTime(parseInt(exerciseDurationInput.value) || 0);
        document.getElementById('intervalPhase').textContent = 'Fase: -';
        document.getElementById('intervalStart').disabled = false;
        document.getElementById('intervalPause').disabled = true;
        document.getElementById('intervalReset').disabled = true;
        document.getElementById('intervalPause').textContent = '⏸ Pausar';
        // Re-enable inputs and make them visible
        document.getElementById('exerciseDuration').disabled = false;
        document.getElementById('shortRest').disabled = false;
        document.getElementById('longRest').disabled = false;
        document.getElementById('totalRounds').disabled = false;
        document.getElementById('intervalInputs').style.display = 'grid';
    }

    function startInterval() {
        exerciseDuration = parseInt(document.getElementById('exerciseDuration').value);
        shortRest = parseInt(document.getElementById('shortRest').value);
        longRest = parseInt(document.getElementById('longRest').value);
        totalRounds = parseInt(document.getElementById('totalRounds').value);

        if (isNaN(exerciseDuration) || exerciseDuration <= 0 ||
            isNaN(shortRest) || shortRest <= 0 ||
            isNaN(longRest) || longRest <= 0 ||
            isNaN(totalRounds) || totalRounds <= 0) {
            speak(translations[currentLanguage].validIntervalDurations || "Por favor, introduce duraciones válidas para todos los campos.");
            return;
        }

        if (!intervalPaused) { // If starting fresh, initialize phase and round
            currentIntervalPhase = 'exercise';
            currentRound = 0; // Start at 0, will increment to 1 for the first round
            intervalTimeRemaining = exerciseDuration;
        }
        intervalPaused = false;

        // Ocultar el bloque de entradas de intervalos
        document.getElementById('intervalInputs').style.display = 'none';

        document.getElementById('intervalStart').disabled = true;
        document.getElementById('intervalPause').disabled = false;
        document.getElementById('intervalReset').disabled = false;

        document.getElementById('intervalTimer').textContent = formatTime(intervalTimeRemaining);
        // Update phase display for initial state
        document.getElementById('intervalPhase').textContent = `${translations[currentLanguage].phase || 'Fase:'} ${translations[currentLanguage][currentIntervalPhase] || currentIntervalPhase} (Ronda ${currentRound + 1} de ${totalRounds})`;
        speak(`${translations[currentLanguage].intervalStarted || "Intervalo iniciado."} ${translations[currentLanguage][currentIntervalPhase] || currentIntervalPhase}.`);

        intervalTimer = setInterval(() => {
            if (!intervalPaused) {
                intervalTimeRemaining--;
                document.getElementById('intervalTimer').textContent = formatTime(intervalTimeRemaining);

                if (intervalTimeRemaining <= 10 && intervalTimeRemaining > 0) {
                    speak(intervalTimeRemaining.toString());
                }

                if (intervalTimeRemaining <= 0) {
                    // Logic for phase transition
                    if (currentIntervalPhase === 'exercise') {
                        currentRound++; // Exercise phase of a round completed
                        if (currentRound === totalRounds) { // All exercise rounds completed, now go to final long rest
                            currentIntervalPhase = 'longRest';
                            intervalTimeRemaining = longRest;
                            speak(translations[currentLanguage].longRest || "Descanso largo.");
                        } else { // Not the last exercise, go to short rest
                            currentIntervalPhase = 'shortRest';
                            intervalTimeRemaining = shortRest;
                            speak(translations[currentLanguage].shortRest || "Descanso corto.");
                        }
                    } else if (currentIntervalPhase === 'shortRest') {
                        currentIntervalPhase = 'exercise';
                        intervalTimeRemaining = exerciseDuration;
                        speak(translations[currentLanguage].exercisePhase || "Fase de ejercicio.");
                    } else if (currentIntervalPhase === 'longRest') {
                        // Long rest completed, workout is truly over
                        clearInterval(intervalTimer);
                        speak(translations[currentLanguage].intervalWorkoutComplete || "¡Entrenamiento de intervalos completado!");
                        document.getElementById('intervalTimer').textContent = '00:00';
                        document.getElementById('intervalPhase').textContent = translations[currentLanguage].workoutComplete || "¡Entrenamiento Completado!";
                        document.getElementById('intervalStart').disabled = false;
                        document.getElementById('intervalPause').disabled = true;
                        document.getElementById('intervalReset').disabled = false;
                        document.getElementById('intervalInputs').style.display = 'grid'; // Show inputs again
                        showMotivationFloater(translations[currentLanguage].congratulations || "¡Felicidades, meta alcanzada!");
                        return; // Exit the interval function
                    }
                    // Update phase display for the next phase
                    document.getElementById('intervalPhase').textContent = `${translations[currentLanguage].phase || 'Fase:'} ${translations[currentLanguage][currentIntervalPhase] || currentIntervalPhase} (Ronda ${currentRound + (currentIntervalPhase === 'exercise' ? 1 : 0)} de ${totalRounds})`;
                }
            }
        }, 1000);
    }

    function togglePauseInterval() {
        intervalPaused = !intervalPaused;
        const pauseButton = document.getElementById('intervalPause');
        if (intervalPaused) {
            pauseButton.textContent = '▶ Reanudar';
            speak(translations[currentLanguage].intervalPaused || "Intervalo pausado.");
        } else {
            pauseButton.textContent = '⏸ Pausar';
            speak(translations[currentLanguage].intervalResumed || "Intervalo reanudado.");
        }
    }

    function resetInterval() {
        resetIntervalState();
        speak(translations[currentLanguage].intervalReset || "Intervalo reiniciado.");
    }

    // Settings Menu Functionality
    document.getElementById('settingsToggle').addEventListener('click', () => {
      document.getElementById('settingsMenu').classList.toggle('show');
    });

    const palettes = [
        { name: 'Cálido', primary: '#f0ebe6', secondary: '#3a7bd5', accent: '#74b49b', text: '#333', emoji: '☀️' },
        { name: 'Frío', primary: '#e6f0f5', secondary: '#0056b3', accent: '#40826d', text: '#333', emoji: '❄️' },
        { name: 'Naturaleza', primary: '#e8f5e9', secondary: '#388e3c', accent: '#8bc34a', text: '#333', emoji: '🌳' },
        { name: 'Atardecer', primary: '#fff3e0', secondary: '#ff6f00', accent: '#f57c00', text: '#333', emoji: '🌅' },
        { name: 'Oscuro', primary: '#333333', secondary: '#bb86fc', accent: '#03dac6', text: '#eee', emoji: '🌑' },
        { name: 'Energía', primary: '#ffebee', secondary: '#d32f2f', accent: '#ff1744', text: '#333', emoji: '⚡' },
        { name: 'Marino', primary: '#e0f2f7', secondary: '#0288d1', accent: '#29b6f6', text: '#333', emoji: '🌊' },
        { name: 'Tropical', primary: '#f1f8e9', secondary: '#afb42b', accent: '#cddc39', text: '#333', emoji: '🌴' },
        { name: 'Minimalista', primary: '#f5f5f5', secondary: '#616161', accent: '#9e9e9e', text: '#333', emoji: '⚪' },
        { name: 'Vibrante', primary: '#fce4ec', secondary: '#ad1457', accent: '#ec407a', text: '#333', emoji: '💖' },
        { name: 'Bosque', primary: '#e0f2f1', secondary: '#004d40', accent: '#4db6ac', text: '#333', emoji: '🌲' },
        { name: 'Desierto', primary: '#fff8e1', secondary: '#e65100', accent: '#ffb300', text: '#333', emoji: '🏜️' },
        { name: 'Galaxia', primary: '#263238', secondary: '#673ab7', accent: '#8e24aa', text: '#eee', emoji: '🌌' },
        { name: 'Cítrico', primary: '#fdf3e7', secondary: '#fbc02d', accent: '#ffeb3b', text: '#333', emoji: '🍋' },
        { name: 'Amatista', primary: '#f3e5f5', secondary: '#6a1b9a', accent: '#ab47bc', text: '#333', emoji: '🔮' },
        { name: 'Océano Profundo', primary: '#e3f2fd', secondary: '#1a237e', accent: '#42a5f5', text: '#333', emoji: '🌊' },
        { name: 'Tierra', primary: '#efebe9', secondary: '#4e342e', accent: '#8d6e63', text: '#333', emoji: '🌍' },
        { name: 'Fuego', primary: '#fff3e0', secondary: '#bf360c', accent: '#ff7043', text: '#333', emoji: '🔥' },
        { name: 'Nieve', primary: '#fafafa', secondary: '#2196f3', accent: '#90caf9', text: '#333', emoji: '🌨️' },
        { name: 'Atardecer Urbano', primary: '#f5f5f5', secondary: '#424242', accent: '#757575', text: '#333', emoji: '🏙️' },
        { name: 'Menta', primary: '#e8f5e9', secondary: '#2e7d32', accent: '#66bb6a', text: '#333', emoji: '🍃' },
        { name: 'Arena', primary: '#fffde7', secondary: '#c5a47e', accent: '#d7ccc8', text: '#333', emoji: '🏖️' },
        { name: 'Medianoche', primary: '#1a1a2e', secondary: '#0f3460', accent: '#e94560', text: '#fff', emoji: '🌃' },
        { name: 'Primavera', primary: '#fce4ec', secondary: '#f06292', accent: '#ff80ab', text: '#333', emoji: '🌸' },
        { name: 'Invierno', primary: '#e0f7fa', secondary: '#006064', accent: '#4dd0e1', text: '#333', emoji: '⛄' }
    ];

    function applyPalette(index) {
        const palette = palettes[index];
        if (palette) {
            document.body.style.backgroundColor = palette.primary;
            document.body.style.color = palette.text;

            // Elementos que pueden no estar presentes en el DOM al cargar la página
            const mainTitle = document.querySelector('h1.mainTitle');
            if (mainTitle) {
                mainTitle.style.color = palette.secondary;
            }

            const modeTitle = document.querySelector('h2.modeTitle');
            if (modeTitle) {
                modeTitle.style.color = palette.accent;
            }

            const timerDisplay = document.querySelector('.timerDisplay');
            if (timerDisplay) {
                timerDisplay.style.color = palette.accent;
                timerDisplay.style.textShadow = `0 0 15px ${palette.accent}, 0 0 25px ${palette.accent}`;
            }

            const settingsToggle = document.getElementById('settingsToggle');
            if (settingsToggle) {
                settingsToggle.style.backgroundColor = palette.secondary;
            }

            const volumeControlBtn = document.getElementById('volumeControlBtn');
            if (volumeControlBtn) {
                volumeControlBtn.style.backgroundColor = palette.secondary;
            }

            // Actualiza la variable CSS para el color del pulgar del slider
            document.documentElement.style.setProperty('--slider-thumb-color', palette.secondary);

            document.querySelectorAll('button').forEach(button => {
                if (!button.id.includes('normal') && !button.id.includes('interval') && !button.classList.contains('small-info-btn') && !button.classList.contains('answerCorrect') && !button.classList.contains('answerIncorrect') && !button.classList.contains('language-button')) {
                    button.style.backgroundColor = palette.accent;
                }
            });

            document.querySelectorAll('input[type=number]').forEach(input => {
                if (input) {
                    input.style.borderColor = palette.accent;
                }
            });

            const btnBack = document.getElementById('btnBack');
            if (btnBack) {
                btnBack.style.backgroundColor = palette.accent;
            }

            const intervalPhase = document.getElementById('intervalPhase');
            if (intervalPhase) {
                intervalPhase.style.color = palette.accent;
            }

            // Actualizar el indicador de paleta activa
            document.querySelectorAll('.palette-item').forEach((item, i) => {
                item.classList.remove('active');
                if (i === index) {
                    item.classList.add('active');
                }
            });
        }
    }

    function populatePaletteGrid() {
        const paletteGrid = document.getElementById('paletteGrid');
        paletteGrid.innerHTML = '';
        palettes.forEach((palette, index) => {
            const item = document.createElement('div');
            item.classList.add('palette-item');
            item.style.backgroundColor = palette.primary;
            item.style.border = `2px solid ${palette.secondary}`; // Use secondary as border for contrast
            item.title = palette.name;
            item.onclick = () => applyPalette(index);
            item.textContent = palette.emoji; // Display emoji inside the circle
            paletteGrid.appendChild(item);
        });
        applyPalette(0); // Apply default on load
    }

    const translations = {
        es: {
            welcomeToTempoFit: "Bienvenido a TempoFit Pro. Transforma tu cuerpo con disciplina y tecnología.",
            comenzarEntrenamiento: "Comenzar Entrenamiento",
            seleccionaTuModo: "Selecciona tu modo",
            cronometro: "Cronómetro",
            intervalos: "Intervalos",
            trivia: "Trivia",
            defineDuracion: "Define duración y controla tu tiempo.",
            duracionSegundos: "Duración (segundos):",
            iniciar: "Iniciar",
            pausar: "Pausar",
            reanudar: "Reanudar",
            reiniciar: "Reiniciar",
            configuraTiempos: "Configura tiempos de ejercicio y descanso.",
            fase: "Fase:",
            duracionEjercicio: "Duración ejercicio (segundos):",
            descansoCorto: "Descanso corto (segundos):",
            descansoLargo: "Descanso largo (segundos):",
            totalRoundsLabel: "Total de rondas:", // Updated label
            triviaFitness: "Trivia Fitness",
            preguntasReto: "5 preguntas, responde o cumple un reto.",
            tusCastigos: "Tus Castigos",
            volver: "Volver",
            configuracion: "Configuración",
            paletasColor: "Paletas de Color",
            idiomas: "Idiomas",
            voces: "Voces",
            mostrarMasColores: "Mostrar más colores",
            mostrarMasIdiomas: "Mostrar más idiomas",
            controlVolumen: "Control de Volumen",
            volumen: "Volumen",
            normalModeWelcome: "Modo Cronómetro. Define tu duración.",
            intervalModeWelcome: "Modo Intervalos. Configura tus tiempos.",
            validDuration: "Por favor, introduce una duración válida.",
            normalTimerStarted: "Cronómetro iniciado.",
            normalTimerPaused: "Cronómetro pausado.",
            normalTimerResumed: "Cronómetro reanudado.",
            normalTimerReset: "Cronómetro reiniciado.",
            timeUp: "¡Tiempo!",
            congratulations: "¡Felicidades, meta alcanzada!",
            validIntervalDurations: "Por favor, introduce duraciones válidas para todos los campos.",
            intervalStarted: "Intervalo iniciado.",
            exercise: "ejercicio",
            shortRest: "descanso corto",
            longRest: "descanso largo",
            exercisePhase: "Fase de ejercicio.",
            intervalPaused: "Intervalo pausado.",
            intervalResumed: "Intervalo reanudado.",
            intervalReset: "Intervalo reiniciado.",
            intervalWorkoutComplete: "¡Entrenamiento de intervalos completado!",
            workoutComplete: "¡Entrenamiento Completado!",
            question: "Pregunta",
            correctAnswer: "¡Correcto!",
            incorrectAnswer: "Incorrecto.",
            motivationGoodJob: "¡Excelente! ¡Sigue así!",
            triviaPerfectScore: "¡Perfecto! ¡Sin castigos! 🎉",
            triviaCongratsMessage: "Has respondido todas las preguntas correctamente. ¡Eres un campeón del fitness!",
            triviaPunishmentSummary: "Has acumulado algunos castigos. ¡Es hora de ponerte en forma!",
            howTo: "Cómo hacerlo:",
            purpose: "Propósito:",
            reps: "repeticiones",
            moreInfo: "Más información",
            testPhrase: "Hola, esto es una prueba.",
            triviaCorrectSound: "¡Bravo! 🥳",
            triviaIncorrectSound: "¡Oh no! 😬",
            motivations: {
                general: [
                    "¡Cada segundo cuenta! ⏱️",
                    "¡No te rindas, sigue adelante! 💪",
                    "¡Tú puedes con esto! ✨",
                    "¡Concéntrate en tu meta! 🎯",
                    "¡Supera tus límites! 🚀",
                    "¡El esfuerzo de hoy es la fuerza de mañana! 🔥",
                    "¡Eres imparable! ⚡",
                    "¡Suda hoy, sonríe mañana! 😊",
                    "¡Haz que cada repetición cuente! 💯",
                    "¡Tu cuerpo puede con todo! 🌟"
                ],
                trivia: [
                    "¡Inteligencia en acción! 🧠",
                    "¡Sabiduría fitness! 💡",
                    "¡Mente y cuerpo en forma! 🤸",
                    "¡Eres un genio del ejercicio! 🏆"
                ]
            },
            showLessColors: "Mostrar menos colores",
            showLessLanguages: "Mostrar menos idiomas",
            volverAlMenuPrincipal: "Volver al Menú Principal",
            punishmentSummaryHeader: "Castigos por respuestas incorrectas:",

            // Trivia Questions and Answers (ES)
            trivia_q1: "¿Cuántos litros de agua se recomienda beber al día para un adulto promedio?",
            trivia_a1_opt1: "1-1.5 litros",
            trivia_a1_opt2: "2-3 litros",
            trivia_a1_opt3: "4-5 litros",
            trivia_a1_opt4: "Más de 5 litros",

            trivia_q2: "¿Cuál de los siguientes es un carbohidrato complejo?",
            trivia_a2_opt1: "Azúcar de mesa",
            trivia_a2_opt2: "Miel",
            trivia_a2_opt3: "Arroz integral",
            trivia_a2_opt4: "Jugo de frutas",

            trivia_q3: "¿Qué ejercicio es excelente para fortalecer el core y la espalda?",
            trivia_a3_opt1: "Press de banca",
            trivia_a3_opt2: "Sentadilla",
            trivia_a3_opt3: "Plancha",
            trivia_a3_opt4: "Curl de bíceps",

            trivia_q4: "¿Cuántas repeticiones se recomiendan generalmente para ganar fuerza?",
            trivia_a4_opt1: "1-5 repeticiones",
            trivia_a4_opt2: "8-12 repeticiones",
            trivia_a4_opt3: "15-20 repeticiones",
            trivia_a4_opt4: "Más de 20 repeticiones",

            trivia_q5: "¿Qué tipo de estiramiento se debe realizar antes de un entrenamiento intenso?",
            trivia_a5_opt1: "Estiramiento estático",
            trivia_a5_opt2: "Estiramiento balístico",
            trivia_a5_opt3: "Estiramiento dinámico",
            trivia_a5_opt4: "Ninguno",

            trivia_q6: "¿Qué macronutriente es esencial para la construcción y reparación muscular?",
            trivia_a6_opt1: "Carbohidratos",
            trivia_a6_opt2: "Grasas",
            trivia_a6_opt3: "Proteínas",
            trivia_a6_opt4: "Vitaminas",

            trivia_q7: "¿Cuál es el nombre del proceso por el cual el cuerpo quema calorías para obtener energía?",
            trivia_a7_opt1: "Anabolismo",
            trivia_a7_opt2: "Catabolismo",
            trivia_a7_opt3: "Metabolismo",
            trivia_a7_opt4: "Homeostasis",

            trivia_q8: "¿Qué ejercicio cardiovascular utiliza todo el cuerpo y es de alto impacto?",
            trivia_a8_opt1: "Caminadora",
            trivia_a8_opt2: "Bicicleta estática",
            trivia_a8_opt3: "Remo",
            trivia_a8_opt4: "Burpees",

            trivia_q9: "¿Cuántas horas de sueño se recomiendan para una recuperación muscular óptima en adultos?",
            trivia_a9_opt1: "4-5 horas",
            trivia_a9_opt2: "6-7 horas",
            trivia_a9_opt3: "7-9 horas",
            trivia_a9_opt4: "Más de 10 horas",

            trivia_q10: "¿Cuál es un beneficio clave del entrenamiento de fuerza?",
            trivia_a10_opt1: "Aumento de la flexibilidad",
            trivia_a10_opt2: "Mejora de la resistencia cardiovascular",
            trivia_a10_opt3: "Aumento de la densidad ósea",
            trivia_a10_opt4: "Mejora de la coordinación mano-ojo",

            trivia_q11: "¿Qué vitamina es importante para la salud ósea y se obtiene de la exposición al sol?",
            trivia_a11_opt1: "Vitamina C",
            trivia_a11_opt2: "Vitamina D",
            trivia_a11_opt3: "Vitamina B12",
            trivia_a11_opt4: "Vitamina A",

            trivia_q12: "¿Qué tipo de grasa se considera 'buena' para la salud cardiovascular?",
            trivia_a12_opt1: "Grasas trans",
            trivia_a12_opt2: "Grasas saturadas",
            trivia_a12_opt3: "Grasas monoinsaturadas",
            trivia_a12_opt4: "Colesterol",

            trivia_q13: "¿Cuál es el músculo más grande del cuerpo humano?",
            trivia_a13_opt1: "Bíceps",
            trivia_a13_opt2: "Cuádriceps",
            trivia_a13_opt3: "Glúteo mayor",
            trivia_a13_opt4: "Pectoral mayor",

            trivia_q14: "¿Qué es el IMC?",
            trivia_a14_opt1: "Índice de Masa Corporal",
            trivia_a14_opt2: "Índice Metabólico Calórico",
            trivia_a14_opt3: "Índice Muscular Cardiovascular",
            trivia_a14_opt4: "Índice de Movimiento Corporal",

            trivia_q15: "¿Qué tipo de ejercicio mejora la capacidad de los pulmones y el corazón?",
            trivia_a15_opt1: "Entrenamiento de fuerza",
            trivia_a15_opt2: "Entrenamiento de flexibilidad",
            trivia_a15_opt3: "Ejercicio aeróbico",
            trivia_a15_opt4: "Yoga",

            trivia_q16: "¿Cuál de los siguientes es un signo de deshidratación?",
            trivia_a16_opt1: "Piel húmeda",
            trivia_a16_opt2: "Orina clara",
            trivia_a16_opt3: "Sed intensa",
            trivia_a16_opt4: "Aumento de energía",

            trivia_q17: "¿Cuántas comidas al día se recomiendan para mantener un metabolismo activo?",
            trivia_a17_opt1: "1-2 comidas",
            trivia_a17_opt2: "3-5 comidas pequeñas",
            trivia_a17_opt3: "Solo desayuno y cena",
            trivia_a17_opt4: "No importa la cantidad, solo las calorías",

            trivia_q18: "¿Qué es el 'calentamiento' antes de hacer ejercicio?",
            trivia_a18_opt1: "Estiramientos estáticos prolongados",
            trivia_a18_opt2: "Actividad ligera para preparar el cuerpo",
            trivia_a18_opt3: "Comer antes de entrenar",
            trivia_a18_opt4: "Tomar una ducha caliente",

            trivia_q19: "¿Qué deporte es conocido por mejorar la resistencia y la fuerza de las piernas?",
            trivia_a19_opt1: "Golf",
            trivia_a19_opt2: "Natación",
            trivia_a19_opt3: "Ciclismo",
            trivia_a19_opt4: "Tiro con arco",

            trivia_q20: "¿Cuál de estos alimentos es una buena fuente de fibra?",
            trivia_a20_opt1: "Pollo",
            trivia_a20_opt2: "Pan blanco",
            trivia_a20_opt3: "Manzanas",
            trivia_a20_opt4: "Mantequilla",

            trivia_q21: "¿Qué es el entrenamiento de intervalos de alta intensidad (HIIT)?",
            trivia_a21_opt1: "Ejercicio de baja intensidad y larga duración",
            trivia_a21_opt2: "Períodos cortos de ejercicio intenso seguidos de descanso",
            trivia_a21_opt3: "Levantamiento de pesas pesado",
            trivia_a21_opt4: "Yoga y meditación",

            trivia_q22: "¿Qué mineral es crucial para la función muscular y nerviosa?",
            trivia_a22_opt1: "Hierro",
            trivia_a22_opt2: "Calcio",
            trivia_a22_opt3: "Magnesio",
            trivia_a22_opt4: "Zinc",

            trivia_q23: "¿Cuál es el principal beneficio de hacer estiramientos después de entrenar?",
            trivia_a23_opt1: "Aumentar la fuerza",
            trivia_a23_opt2: "Prevenir lesiones y mejorar la flexibilidad",
            trivia_a23_opt3: "Quemar más calorías",
            trivia_a23_opt4: "Aumentar la velocidad",

            trivia_q24: "¿Qué alimento es una fuente completa de proteínas?",
            trivia_a24_opt1: "Arroz",
            trivia_a24_opt2: "Frijoles",
            trivia_a24_opt3: "Huevos",
            trivia_a24_opt4: "Pasta",

            trivia_q25: "¿Cuál es el tiempo mínimo de actividad física moderada recomendado por semana para adultos?",
            trivia_a25_opt1: "30 minutos",
            trivia_a25_opt2: "75 minutos",
            trivia_a25_opt3: "150 minutos",
            trivia_a25_opt4: "300 minutos",

            trivia_q26: "¿Qué es la 'zona de quema de grasa'?",
            trivia_a26_opt1: "Un mito",
            trivia_a26_opt2: "Una intensidad de ejercicio donde se quema más grasa",
            trivia_a26_opt3: "Una dieta específica",
            trivia_a26_opt4: "Un tipo de entrenamiento de fuerza",

            trivia_q27: "¿Qué tipo de ejercicio ayuda a mejorar el equilibrio y la coordinación?",
            trivia_a27_opt1: "Levantamiento de pesas",
            trivia_a27_opt2: "Correr",
            trivia_a27_opt3: "Yoga o Pilates",
            trivia_a27_opt4: "Ciclismo",

            trivia_q28: "¿Cuál de los siguientes es un micronutriente?",
            trivia_a28_opt1: "Proteínas",
            trivia_a28_opt2: "Carbohidratos",
            trivia_a28_opt3: "Vitaminas",
            trivia_a28_opt4: "Grasas",

            trivia_q29: "¿Qué es el 'descanso activo'?",
            trivia_a29_opt1: "No hacer nada en absoluto",
            trivia_a29_opt2: "Actividad ligera para ayudar a la recuperación",
            trivia_a29_opt3: "Dormir más de lo normal",
            trivia_a29_opt4: "Comer mucho después de entrenar",

            trivia_q30: "¿Qué parte del cuerpo se enfoca principalmente en el ejercicio de 'plancha'?",
            trivia_a30_opt1: "Brazos",
            trivia_a30_opt2: "Piernas",
            trivia_a30_opt3: "Core (abdomen y espalda baja)",
            trivia_a30_opt4: "Hombros",

            trivia_q31: "¿Qué tipo de carbohidratos se digieren más lentamente y proporcionan energía sostenida?",
            trivia_a31_opt1: "Carbohidratos simples",
            trivia_a31_opt2: "Azúcares refinados",
            trivia_a31_opt3: "Carbohidratos complejos",
            trivia_a31_opt4: "Fructosa",

            trivia_q32: "¿Cuál es el objetivo principal del entrenamiento de resistencia?",
            trivia_a32_opt1: "Aumentar la flexibilidad",
            trivia_a32_opt2: "Mejorar la fuerza muscular y el tamaño",
            trivia_a32_opt3: "Perder peso rápidamente",
            trivia_a32_opt4: "Mejorar la velocidad de reacción",

            trivia_q33: "¿Qué es la 'recuperación activa' después de un entrenamiento intenso?",
            trivia_a33_opt1: "Comer una comida grande",
            trivia_a33_opt2: "Realizar estiramientos ligeros o caminar",
            trivia_a33_opt3: "Tomar una siesta larga",
            trivia_a33_opt4: "No hacer ejercicio por una semana",

            trivia_q34: "¿Qué macronutriente es la fuente de energía más concentrada?",
            trivia_a34_opt1: "Proteínas",
            trivia_a34_opt2: "Carbohidratos",
            trivia_a34_opt3: "Grasas",
            trivia_a34_opt4: "Vitaminas",

            trivia_q35: "¿Qué ejercicio es una combinación de sentadilla, flexión y salto?",
            trivia_a35_opt1: "Jumping Jack",
            trivia_a35_opt2: "Burpee",
            trivia_a35_opt3: "Zancada",
            trivia_a35_opt4: "Plancha",

            trivia_q36: "¿Cuál es el beneficio de la proteína en polvo para los deportistas?",
            trivia_a36_opt1: "Reemplaza todas las comidas",
            trivia_a36_opt2: "Ayuda a la recuperación y crecimiento muscular",
            trivia_a36_opt3: "Solo sirve para bajar de peso",
            trivia_a36_opt4: "Es una fuente de energía rápida",

            trivia_q37: "¿Qué es el 'sobreentrenamiento'?",
            trivia_a37_opt1: "Entrenar más de lo recomendado sin recuperación adecuada",
            trivia_a37_opt2: "Entrenar solo un tipo de músculo",
            trivia_a37_opt3: "No entrenar lo suficiente",
            trivia_a37_opt4: "Entrenar con un entrenador personal",

            trivia_q38: "¿Qué tipo de ejercicio es mejor para la salud ósea?",
            trivia_a38_opt1: "Natación",
            trivia_a38_opt2: "Ciclismo",
            trivia_a38_opt3: "Caminar o levantar pesas",
            trivia_a38_opt4: "Yoga",

            trivia_q39: "¿Qué es el 'metabolismo basal'?",
            trivia_a39_opt1: "Las calorías quemadas durante el ejercicio",
            trivia_a39_opt2: "Las calorías que el cuerpo quema en reposo para funciones básicas",
            trivia_a39_opt3: "La velocidad a la que se digieren los alimentos",
            trivia_a39_opt4: "La cantidad de energía que se obtiene de los alimentos",

            trivia_q40: "¿Qué es la 'flexibilidad' en el fitness?",
            trivia_a40_opt1: "La capacidad de levantar mucho peso",
            trivia_a40_opt2: "La amplitud de movimiento de las articulaciones",
            trivia_a40_opt3: "La velocidad al correr",
            trivia_a40_opt4: "La resistencia cardiovascular",

            trivia_q41: "¿Qué tipo de fruta es rica en potasio y buena para la recuperación muscular?",
            trivia_a41_opt1: "Manzana",
            trivia_a41_opt2: "Naranja",
            trivia_a41_opt3: "Plátano",
            trivia_a41_opt4: "Fresa",

            trivia_q42: "¿Qué es el 'cardio en ayunas'?",
            trivia_a42_opt1: "Hacer ejercicio cardiovascular sin haber comido",
            trivia_a42_opt2: "Hacer ejercicio cardiovascular después de una comida grande",
            trivia_a42_opt3: "Hacer ejercicio de fuerza por la mañana",
            trivia_a42_opt4: "No hacer ejercicio cardiovascular",

            trivia_q43: "¿Qué es la 'hidratación' en el contexto del ejercicio?",
            trivia_a43_opt1: "Solo beber agua durante el ejercicio",
            trivia_a43_opt2: "Mantener un equilibrio adecuado de líquidos en el cuerpo",
            trivia_a43_opt3: "Comer alimentos ricos en agua",
            trivia_a43_opt4: "Evitar beber líquidos antes de entrenar",

            trivia_q44: "¿Qué tipo de entrenamiento utiliza el propio peso corporal como resistencia?",
            trivia_a44_opt1: "Levantamiento de pesas",
            trivia_a44_opt2: "Calistenia",
            trivia_a44_opt3: "Entrenamiento con bandas de resistencia",
            trivia_a44_opt4: "Entrenamiento con máquinas",

            trivia_q45: "¿Qué es la 'nutrición post-entrenamiento'?",
            trivia_a45_opt1: "Comer cualquier cosa después de entrenar",
            trivia_a45_opt2: "Consumir nutrientes específicos para la recuperación muscular",
            trivia_a45_opt3: "Saltarse una comida después de entrenar",
            trivia_a45_opt4: "Solo beber agua después de entrenar",

            trivia_q46: "¿Cuál es un beneficio de la meditación para el fitness?",
            trivia_a46_opt1: "Aumenta la masa muscular",
            trivia_a46_opt2: "Mejora la concentración y reduce el estrés",
            trivia_a46_opt3: "Quema calorías activamente",
            trivia_a46_opt4: "Reemplaza el ejercicio físico",

            trivia_q47: "¿Qué es el 'descanso' en un programa de entrenamiento?",
            trivia_a47_opt1: "Tiempo sin actividad física para permitir la recuperación",
            trivia_a47_opt2: "Solo dormir",
            trivia_a47_opt3: "Comer en exceso",
            trivia_a47_opt4: "Entrenar sin parar",

            trivia_q48: "¿Qué tipo de ejercicio es bueno para la salud mental?",
            trivia_a48_opt1: "Cualquier ejercicio físico regular",
            trivia_a48_opt2: "Solo ejercicios de alta intensidad",
            trivia_a48_opt3: "Solo ejercicios de baja intensidad",
            trivia_a48_opt4: "Solo ejercicios en grupo",

            trivia_q49: "¿Qué es la 'progresión' en el entrenamiento?",
            trivia_a49_opt1: "Hacer siempre el mismo ejercicio",
            trivia_a49_opt2: "Aumentar gradualmente la dificultad del ejercicio",
            trivia_a49_opt3: "Cambiar de ejercicio cada día",
            trivia_a49_opt4: "Entrenar sin un plan",

            trivia_q50: "¿Qué es la 'constancia' en el fitness?",
            trivia_a50_opt1: "Entrenar solo cuando se tiene ganas",
            trivia_a50_opt2: "Entrenar de forma regular y consistente a lo largo del tiempo",
            trivia_a50_opt3: "Entrenar solo una vez a la semana",
            trivia_a50_opt4: "Cambiar de rutina constantemente",
        },
        en: {
            welcomeToTempoFit: "Welcome to TempoFit Pro. Transform your body with discipline and technology.",
            comenzarEntrenamiento: "Start Workout",
            seleccionaTuModo: "Select your mode",
            cronometro: "Stopwatch",
            intervalos: "Intervals",
            trivia: "Trivia",
            defineDuracion: "Define duration and control your time.",
            duracionSegundos: "Duration (seconds):",
            iniciar: "Start",
            pausar: "Pause",
            reanudar: "Resume",
            reiniciar: "Reset",
            configuraTiempos: "Configure exercise and rest times.",
            fase: "Phase:",
            duracionEjercicio: "Exercise duration (seconds):",
            descansoCorto: "Short rest (seconds):",
            descansoLargo: "Long rest (seconds):",
            totalRoundsLabel: "Total rounds:",
            triviaFitness: "Fitness Trivia 💪❓",
            preguntasReto: "5 questions, answer or face a challenge.",
            tusCastigos: "Your Punishments 😔",
            volver: "Back",
            configuracion: "Settings",
            paletasColor: "Color Palettes",
            idiomas: "Languages",
            voces: "Voices",
            mostrarMasColores: "Show more colors",
            mostrarMasIdiomas: "Show more languages",
            controlVolumen: "Volume Control",
            volumen: "Volume",
            normalModeWelcome: "Stopwatch Mode. Define your duration.",
            intervalModeWelcome: "Intervals Mode. Configure your times.",
            validDuration: "Please enter a valid duration.",
            normalTimerStarted: "Stopwatch started.",
            normalTimerPaused: "Stopwatch paused.",
            normalTimerResumed: "Stopwatch resumed.",
            normalTimerReset: "Stopwatch reset.",
            timeUp: "Time's up!",
            congratulations: "Congratulations, goal achieved!",
            validIntervalDurations: "Please enter valid durations for all fields.",
            intervalStarted: "Interval started.",
            exercise: "exercise",
            shortRest: "short rest",
            longRest: "long rest",
            exercisePhase: "Exercise phase.",
            intervalPaused: "Interval paused.",
            intervalResumed: "Interval resumed.",
            intervalReset: "Interval reset.",
            intervalWorkoutComplete: "Interval workout complete!",
            workoutComplete: "Workout Complete!",
            question: "Question",
            correctAnswer: "Correct!",
            incorrectAnswer: "Incorrect.",
            motivationGoodJob: "Excellent! Keep it up!",
            triviaPerfectScore: "Perfect! No punishments! 🎉",
            triviaCongratsMessage: "You answered all questions correctly. You are a fitness champion!",
            triviaPunishmentSummary: "You have accumulated some punishments. It's time to get fit!",
            howTo: "How to:",
            purpose: "Purpose:",
            reps: "reps",
            moreInfo: "More info",
            testPhrase: "Hello, this is a test.",
            triviaCorrectSound: "Woohoo! 🥳",
            triviaIncorrectSound: "Oopsie! 😬",
            motivations: {
                general: [
                    "Every second counts! ⏱️",
                    "Don't give up, keep going! 💪",
                    "You can do this! ✨",
                    "Focus on your goal! 🎯",
                    "Push your limits! 🚀",
                    "Today's effort is tomorrow's strength! 🔥",
                    "You are unstoppable! ⚡",
                    "Sweat today, smile tomorrow! 😊",
                    "Make every rep count! 💯",
                    "Your body can do anything! 🌟"
                ],
                trivia: [
                    "Intelligence in action! 🧠",
                    "Fitness wisdom! 💡",
                    "Mind and body in shape! 🤸",
                    "You're a fitness genius! 🏆"
                ]
            },
            showLessColors: "Show less colors",
            showLessLanguages: "Show less languages",
            volverAlMenuPrincipal: "Back to Main Menu",
            punishmentSummaryHeader: "Punishments for incorrect answers:",

            // Trivia Questions and Answers (EN)
            trivia_q1: "How many liters of water are recommended per day for an average adult?",
            trivia_a1_opt1: "1-1.5 liters",
            trivia_a1_opt2: "2-3 liters",
            trivia_a1_opt3: "4-5 liters",
            trivia_a1_opt4: "More than 5 liters",

            trivia_q2: "Which of the following is a complex carbohydrate?",
            trivia_a2_opt1: "Table sugar",
            trivia_a2_opt2: "Honey",
            trivia_a2_opt3: "Brown rice",
            trivia_a2_opt4: "Fruit juice",

            trivia_q3: "Which exercise is excellent for strengthening the core and back?",
            trivia_a3_opt1: "Bench press",
            trivia_a3_opt2: "Squat",
            trivia_a3_opt3: "Plank",
            trivia_a3_opt4: "Bicep curl",

            trivia_q4: "How many repetitions are generally recommended for gaining strength?",
            trivia_a4_opt1: "1-5 repetitions",
            trivia_a4_opt2: "8-12 repetitions",
            trivia_a4_opt3: "15-20 repetitions",
            trivia_a4_opt4: "More than 20 repetitions",

            trivia_q5: "What type of stretching should be performed before an intense workout?",
            trivia_a5_opt1: "Static stretching",
            trivia_a5_opt2: "Ballistic stretching",
            trivia_a5_opt3: "Dynamic stretching",
            trivia_a5_opt4: "None",

            trivia_q6: "Which macronutrient is essential for muscle building and repair?",
            trivia_a6_opt1: "Carbohydrates",
            trivia_a6_opt2: "Fats",
            trivia_a6_opt3: "Proteins",
            trivia_a6_opt4: "Vitamins",

            trivia_q7: "What is the name of the process by which the body burns calories for energy?",
            trivia_a7_opt1: "Anabolism",
            trivia_a7_opt2: "Catabolism",
            trivia_a7_opt3: "Metabolism",
            trivia_a7_opt4: "Homeostasis",

            trivia_q8: "Which cardiovascular exercise uses the whole body and is high-impact?",
            trivia_a8_opt1: "Treadmill",
            trivia_a8_opt2: "Stationary bike",
            trivia_a8_opt3: "Rowing",
            trivia_a8_opt4: "Burpees",

            trivia_q9: "How many hours of sleep are recommended for optimal muscle recovery in adults?",
            trivia_a9_opt1: "4-5 hours",
            trivia_a9_opt2: "6-7 hours",
            trivia_a9_opt3: "7-9 hours",
            trivia_a9_opt4: "More than 10 hours",

            trivia_q10: "What is a key benefit of strength training?",
            trivia_a10_opt1: "Increased flexibility",
            trivia_a10_opt2: "Improved cardiovascular endurance",
            trivia_a10_opt3: "Increased bone density",
            trivia_a10_opt4: "Improved hand-eye coordination",

            trivia_q11: "Which vitamin is important for bone health and is obtained from sun exposure?",
            trivia_a11_opt1: "Vitamin C",
            trivia_a11_opt2: "Vitamin D",
            trivia_a11_opt3: "Vitamin B12",
            trivia_a11_opt4: "Vitamin A",

            trivia_q12: "What type of fat is considered 'good' for cardiovascular health?",
            trivia_a12_opt1: "Trans fats",
            trivia_a12_opt2: "Saturated fats",
            trivia_a12_opt3: "Monounsaturated fats",
            trivia_a12_opt4: "Cholesterol",

            trivia_q13: "What is the largest muscle in the human body?",
            trivia_a13_opt1: "Biceps",
            trivia_a13_opt2: "Quadriceps",
            trivia_a13_opt3: "Gluteus maximus",
            trivia_a13_opt4: "Pectoralis major",

            trivia_q14: "What is BMI?",
            trivia_a14_opt1: "Body Mass Index",
            trivia_a14_opt2: "Basal Metabolic Index",
            trivia_a14_opt3: "Muscular Cardiovascular Index",
            trivia_a14_opt4: "Body Movement Index",

            trivia_q15: "What type of exercise improves the capacity of the lungs and heart?",
            trivia_a15_opt1: "Strength training",
            trivia_a15_opt2: "Flexibility training",
            trivia_a15_opt3: "Aerobic exercise",
            trivia_a15_opt4: "Yoga",

            trivia_q16: "Which of the following is a sign of dehydration?",
            trivia_a16_opt1: "Moist skin",
            trivia_a16_opt2: "Clear urine",
            trivia_a16_opt3: "Intense thirst",
            trivia_a16_opt4: "Increased energy",

            trivia_q17: "How many meals a day are recommended to maintain an active metabolism?",
            trivia_a17_opt1: "1-2 meals",
            trivia_a17_opt2: "3-5 small meals",
            trivia_a17_opt3: "Only breakfast and dinner",
            trivia_a17_opt4: "Quantity doesn't matter, only calories",

            trivia_q18: "What is 'warming up' before exercise?",
            trivia_a18_opt1: "Prolonged static stretching",
            trivia_a18_opt2: "Light activity to prepare the body",
            trivia_a18_opt3: "Eating before training",
            trivia_a18_opt4: "Taking a hot shower",

            trivia_q19: "Which sport is known for improving leg endurance and strength?",
            trivia_a19_opt1: "Golf",
            trivia_a19_opt2: "Swimming",
            trivia_a19_opt3: "Cycling",
            trivia_a19_opt4: "Archery",

            trivia_q20: "Which of these foods is a good source of fiber?",
            trivia_a20_opt1: "Chicken",
            trivia_a20_opt2: "White bread",
            trivia_a20_opt3: "Apples",
            trivia_a20_opt4: "Butter",

            trivia_q21: "What is High-Intensity Interval Training (HIIT)?",
            trivia_a21_opt1: "Low-intensity, long-duration exercise",
            trivia_a21_opt2: "Short periods of intense exercise followed by rest",
            trivia_a21_opt3: "Heavy weightlifting",
            trivia_a21_opt4: "Yoga and meditation",

            trivia_q22: "Which mineral is crucial for muscle and nerve function?",
            trivia_a22_opt1: "Iron",
            trivia_a22_opt2: "Calcium",
            trivia_a22_opt3: "Magnesium",
            trivia_a22_opt4: "Zinc",

            trivia_q23: "What is the main benefit of stretching after training?",
            trivia_a23_opt1: "Increase strength",
            trivia_a23_opt2: "Prevent injuries and improve flexibility",
            trivia_a23_opt3: "Burn more calories",
            trivia_a23_opt4: "Increase speed",

            trivia_q24: "Which food is a complete source of protein?",
            trivia_a24_opt1: "Rice",
            trivia_a24_opt2: "Beans",
            trivia_a24_opt3: "Eggs",
            trivia_a24_opt4: "Pasta",

            trivia_q25: "What is the minimum recommended moderate physical activity per week for adults?",
            trivia_a25_opt1: "30 minutes",
            trivia_a25_opt2: "75 minutes",
            trivia_a25_opt3: "150 minutes",
            trivia_a25_opt4: "300 minutes",

            trivia_q26: "What is the 'fat burning zone'?",
            trivia_a26_opt1: "A myth",
            trivia_a26_opt2: "An exercise intensity where more fat is burned",
            trivia_a26_opt3: "A specific diet",
            trivia_a26_opt4: "A type of strength training",

            trivia_q27: "What type of exercise helps improve balance and coordination?",
            trivia_a27_opt1: "Weightlifting",
            trivia_a27_opt2: "Running",
            trivia_a27_opt3: "Yoga or Pilates",
            trivia_a27_opt4: "Cycling",

            trivia_q28: "Which of the following is a micronutrient?",
            trivia_a28_opt1: "Proteins",
            trivia_a28_opt2: "Carbohydrates",
            trivia_a28_opt3: "Vitamins",
            trivia_a28_opt4: "Fats",

            trivia_q29: "What is 'active rest'?",
            trivia_a29_opt1: "Doing nothing at all",
            trivia_a29_opt2: "Light activity to aid recovery",
            trivia_a29_opt3: "Sleeping more than usual",
            trivia_a29_opt4: "Eating a lot after training",

            trivia_q30: "Which body part is primarily focused on in the 'plank' exercise?",
            trivia_a30_opt1: "Arms",
            trivia_a30_opt2: "Legs",
            trivia_a30_opt3: "Core (abdomen and lower back)",
            trivia_a30_opt4: "Shoulders",

            trivia_q31: "What type of carbohydrates are digested more slowly and provide sustained energy?",
            trivia_a31_opt1: "Simple carbohydrates",
            trivia_a31_opt2: "Refined sugars",
            trivia_a31_opt3: "Complex carbohydrates",
            trivia_a31_opt4: "Fructose",

            trivia_q32: "What is the main goal of resistance training?",
            trivia_a32_opt1: "Increase flexibility",
            trivia_a32_opt2: "Improve muscle strength and size",
            trivia_a32_opt3: "Lose weight quickly",
            trivia_a32_opt4: "Improve reaction speed",

            trivia_q33: "What is 'active recovery' after an intense workout?",
            trivia_a33_opt1: "Eating a large meal",
            trivia_a33_opt2: "Performing light stretches or walking",
            trivia_a33_opt3: "Taking a long nap",
            trivia_a33_opt4: "Not exercising for a week",

            trivia_q34: "Which macronutrient is the most concentrated source of energy?",
            trivia_a34_opt1: "Proteins",
            trivia_a34_opt2: "Carbohydrates",
            trivia_a34_opt3: "Fats",
            trivia_a34_opt4: "Vitamins",

            trivia_q35: "Which exercise is a combination of squat, push-up, and jump?",
            trivia_a35_opt1: "Jumping Jack",
            trivia_a35_opt2: "Burpee",
            trivia_a35_opt3: "Lunge",
            trivia_a35_opt4: "Plank",

            trivia_q36: "What is the benefit of protein powder for athletes?",
            trivia_a36_opt1: "Replaces all meals",
            trivia_a36_opt2: "Aids muscle recovery and growth",
            trivia_a36_opt3: "Only serves for weight loss",
            trivia_a36_opt4: "It is a quick energy source",

            trivia_q37: "What is 'overtraining'?",
            trivia_a37_opt1: "Training more than recommended without adequate recovery",
            trivia_a37_opt2: "Training only one type of muscle",
            trivia_a37_opt3: "Not training enough",
            trivia_a37_opt4: "Training with a personal trainer",

            trivia_q38: "What type of exercise is best for bone health?",
            trivia_a38_opt1: "Swimming",
            trivia_a38_opt2: "Cycling",
            trivia_a38_opt3: "Walking or weightlifting",
            trivia_a38_opt4: "Yoga",

            trivia_q39: "What is 'basal metabolism'?",
            trivia_a39_opt1: "Calories burned during exercise",
            trivia_a39_opt2: "Calories the body burns at rest for basic functions",
            trivia_a39_opt3: "The speed at which food is digested",
            trivia_a39_opt4: "The amount of energy obtained from food",

            trivia_q40: "What is 'flexibility' in fitness?",
            trivia_a40_opt1: "The ability to lift heavy weights",
            trivia_a40_opt2: "The range of motion of the joints",
            trivia_a40_opt3: "Running speed",
            trivia_a40_opt4: "Cardiovascular endurance",

            trivia_q41: "Which type of fruit is rich in potassium and good for muscle recovery?",
            trivia_a41_opt1: "Apple",
            trivia_a41_opt2: "Orange",
            trivia_a41_opt3: "Banana",
            trivia_a41_opt4: "Strawberry",

            trivia_q42: "What is 'fasted cardio'?",
            trivia_a42_opt1: "Doing cardiovascular exercise without having eaten",
            trivia_a42_opt2: "Doing cardiovascular exercise after a large meal",
            trivia_a42_opt3: "Doing strength exercise in the morning",
            trivia_a42_opt4: "Not doing cardiovascular exercise",

            trivia_q43: "What is 'hydration' in the context of exercise?",
            trivia_a43_opt1: "Only drinking water during exercise",
            trivia_a43_opt2: "Maintaining an adequate fluid balance in the body",
            trivia_a43_opt3: "Eating water-rich foods",
            trivia_a43_opt4: "Avoiding drinking liquids before training",

            trivia_q44: "What type of training uses one's own body weight as resistance?",
            trivia_a44_opt1: "Weightlifting",
            trivia_a44_opt2: "Calisthenics",
            trivia_a44_opt3: "Resistance band training",
            trivia_a44_opt4: "Machine training",

            trivia_q45: "What is 'post-workout nutrition'?",
            trivia_a45_opt1: "Eating anything after training",
            trivia_a45_opt2: "Consuming specific nutrients for muscle recovery",
            trivia_a45_opt3: "Skipping a meal after training",
            trivia_a45_opt4: "Only drinking water after training",

            trivia_q46: "What is a benefit of meditation for fitness?",
            trivia_a46_opt1: "Increases muscle mass",
            trivia_a46_opt2: "Improves concentration and reduces stress",
            trivia_a46_opt3: "Actively burns calories",
            trivia_a46_opt4: "Replaces physical exercise",

            trivia_q47: "What is 'rest' in a training program?",
            trivia_a47_opt1: "Time without physical activity to allow recovery",
            trivia_a47_opt2: "Only sleeping",
            trivia_a47_opt3: "Overeating",
            trivia_a47_opt4: "Training non-stop",

            trivia_q48: "What type of exercise is good for mental health?",
            trivia_a48_opt1: "Any regular physical exercise",
            trivia_a48_opt2: "Only high-intensity exercises",
            trivia_a48_opt3: "Only low-intensity exercises",
            trivia_a48_opt4: "Only group exercises",

            trivia_q49: "What is 'progression' in training?",
            trivia_a49_opt1: "Always doing the same exercise",
            trivia_a49_opt2: "Gradually increasing exercise difficulty",
            trivia_a49_opt3: "Changing exercises every day",
            trivia_a49_opt4: "Training without a plan",

            trivia_q50: "What is 'consistency' in fitness?",
            trivia_a50_opt1: "Training only when you feel like it",
            trivia_a50_opt2: "Training regularly and consistently over time",
            trivia_a50_opt3: "Training only once a week",
            trivia_a50_opt4: "Constantly changing routines",
        },
        fr: {
            welcomeToTempoFit: "Bienvenue à TempoFit Pro. Transformez votre corps avec discipline et technologie.",
            comenzarEntrenamiento: "Commencer l'entraînement",
            seleccionaTuModo: "Sélectionnez votre mode",
            cronometro: "Chronomètre",
            intervalos: "Intervalles",
            trivia: "Quiz",
            defineDuracion: "Définissez la durée et contrôlez votre temps.",
            duracionSegundos: "Durée (secondes):",
            iniciar: "Démarrer",
            pausar: "Pause",
            reanudar: "Reprendre",
            reiniciar: "Réinitialiser",
            configuraTiempos: "Configurez les temps d'exercice et de repos.",
            fase: "Phase:",
            duracionEjercicio: "Durée de l'exercice (secondes):",
            descansoCorto: "Repos court (secondes):",
            descansoLargo: "Repos long (secondes):",
            totalRoundsLabel: "Nombre total de tours:",
            triviaFitness: "Quiz Fitness 💪❓",
            preguntasReto: "5 questions, répondez ou relevez un défi.",
            tusCastigos: "Vos Punitions 😔",
            volver: "Retour",
            configuracion: "Paramètres",
            paletasColor: "Palettes de couleurs",
            idiomas: "Langues",
            voces: "Voix",
            mostrarMasColores: "Afficher plus de couleurs",
            mostrarMasIdiomas: "Afficher plus de langues",
            controlVolumen: "Contrôle du volume",
            volumen: "Volume",
            normalModeWelcome: "Mode Chronomètre. Définissez votre durée.",
            intervalModeWelcome: "Mode Intervalles. Configurez vos temps.",
            validDuration: "Veuillez entrer une durée valide.",
            normalTimerStarted: "Chronomètre démarré.",
            normalTimerPaused: "Chronomètre en pause.",
            normalTimerResumed: "Chronomètre repris.",
            normalTimerReset: "Chronomètre réinitialisé.",
            timeUp: "Temps écoulé!",
            congratulations: "Félicitations, objectif atteint !",
            validIntervalDurations: "Veuillez entrer des durées valides pour tous les champs.",
            intervalStarted: "Intervalle démarré.",
            exercise: "exercice",
            shortRest: "repos court",
            longRest: "repos long",
            exercisePhase: "Phase d'exercice.",
            intervalPaused: "Intervalle en pause.",
            intervalResumed: "Intervalle repris.",
            intervalReset: "Intervalle réinitialisé.",
            intervalWorkoutComplete: "Entraînement par intervalles terminé !",
            workoutComplete: "Entraînement terminé !",
            question: "Question",
            correctAnswer: "Correct!",
            incorrectAnswer: "Incorrect.",
            motivationGoodJob: "Excellent! Continuez comme ça!",
            triviaPerfectScore: "Parfait! Pas de punitions! 🎉",
            triviaCongratsMessage: "Vous avez répondu correctement à toutes les questions. Vous êtes un champion du fitness!",
            triviaPunishmentSummary: "Vous avez accumulé quelques punitions. Il est temps de vous remettre en forme!",
            howTo: "Comment faire:",
            purpose: "But:",
            reps: "répétitions",
            moreInfo: "Plus d'infos",
            testPhrase: "Bonjour, ceci est un test.",
            triviaCorrectSound: "Bravo! 🥳",
            triviaIncorrectSound: "Oh non! 😬",
            motivations: {
                general: [
                    "Chaque seconde compte! ⏱️",
                    "N'abandonnez pas, continuez! 💪",
                    "Vous pouvez le faire! ✨",
                    "Concentrez-vous sur votre objectif! 🎯",
                    "Dépassez vos limites! 🚀",
                    "L'effort d'aujourd'hui est la force de demain! 🔥",
                    "Vous êtes imparable! ⚡",
                    "Transpirez aujourd'hui, souriez demain! 😊",
                    "Faites en sorte que chaque répétition compte! 💯",
                    "Votre corps peut tout faire! 🌟"
                ],
                trivia: [
                    "Inteligencia en acción! 🧠",
                    "Sagesse fitness! 💡",
                    "Corps et esprit en forme! 🤸",
                    "Vous êtes un génie du fitness! 🏆"
                ]
            },
            showLessColors: "Afficher moins de couleurs",
            showLessLanguages: "Afficher moins de langues",
            volverAlMenuPrincipal: "Retour au menu principal",
            punishmentSummaryHeader: "Punitions pour les mauvaises réponses:"
        },
        de: {
            welcomeToTempoFit: "Willkommen bei TempoFit Pro. Verwandeln Sie Ihren Körper mit Disziplin und Technologie.",
            comenzarEntrenamiento: "Training starten",
            seleccionaTuModo: "Wählen Sie Ihren Modus",
            cronometro: "Stoppuhr",
            intervalos: "Intervalle",
            trivia: "Quiz",
            defineDuracion: "Legen Sie die Dauer fest und kontrollieren Sie Ihre Zeit.",
            duracionSegundos: "Dauer (Sekunden):",
            iniciar: "Starten",
            pausar: "Pause",
            reanudar: "Fortsetzen",
            reiniciar: "Zurücksetzen",
            configuraTiempos: "Konfigurieren Sie Trainings- und Ruhezeiten.",
            fase: "Phase:",
            duracionEjercicio: "Übungsdauer (Sekunden):",
            descansoCorto: "Kurze Pause (Sekunden):",
            descansoLargo: "Lange Pause (Sekunden):",
            totalRoundsLabel: "Gesamtzahl der Runden:",
            triviaFitness: "Fitness-Quiz 💪❓",
            preguntasReto: "5 Fragen, beantworten oder eine Herausforderung annehmen.",
            tusCastigos: "Ihre Strafen 😔",
            volver: "Zurück",
            configuracion: "Einstellungen",
            paletasColor: "Farbpaletten",
            idiomas: "Sprachen",
            voces: "Stimmen",
            mostrarMasColores: "Mehr Farben anzeigen",
            mostrarMasIdiomas: "Mehr Sprachen anzeigen",
            controlVolumen: "Lautstärkeregelung",
            volumen: "Lautstärke",
            normalModeWelcome: "Stoppuhr-Modus. Legen Sie Ihre Dauer fest.",
            intervalModeWelcome: "Intervall-Modus. Konfigurieren Sie Ihre Zeiten.",
            validDuration: "Bitte geben Sie eine gültige Dauer ein.",
            normalTimerStarted: "Stoppuhr gestartet.",
            normalTimerPaused: "Stoppuhr pausiert.",
            normalTimerResumed: "Stoppuhr fortgesetzt.",
            normalTimerReset: "Stoppuhr zurückgesetzt.",
            timeUp: "Zeit abgelaufen!",
            congratulations: "Herzlichen Glückwunsch, Ziel erreicht!",
            validIntervalDurations: "Bitte geben Sie gültige Dauern für alle Felder ein.",
            intervalStarted: "Intervall gestartet.",
            exercise: "Übung",
            shortRest: "kurze Pause",
            longRest: "lange Pause",
            exercisePhase: "Übungsphase.",
            intervalPaused: "Intervall pausiert.",
            intervalResumed: "Intervall fortgesetzt.",
            intervalReset: "Intervall zurückgesetzt.",
            intervalWorkoutComplete: "Intervalltraining abgeschlossen!",
            workoutComplete: "Training abgeschlossen!",
            question: "Frage",
            correctAnswer: "Richtig!",
            incorrectAnswer: "Falsch.",
            motivationGoodJob: "Ausgezeichnet! Machen Sie weiter so!",
            triviaPerfectScore: "Perfekt! Keine Strafen! 🎉",
            triviaCongratsMessage: "Sie haben alle Fragen richtig beantwortet. Sie sind ein Fitness-Champion!",
            triviaPunishmentSummary: "Sie haben einige Strafen gesammelt. Es ist Zeit, fit zu werden!",
            howTo: "Anleitung:",
            purpose: "Zweck:",
            reps: "Wiederholungen",
            moreInfo: "Mehr Infos",
            testPhrase: "Hallo, dies ist ein Test.",
            triviaCorrectSound: "Super! 🥳",
            triviaIncorrectSound: "Oh nein! 😬",
            motivations: {
                general: [
                    "Jede Sekunde zählt! ⏱️",
                    "Gib nicht auf, mach weiter! 💪",
                    "Du schaffst das! ✨",
                    "Konzentriere dich auf dein Ziel! 🎯",
                    "Überschreite deine Grenzen! 🚀",
                    "Die Anstrengung von heute ist die Kraft von morgen! 🔥",
                    "Du bist unaufhaltsam! ⚡",
                    "Schwitzen Sie heute, lächeln Sie morgen! 😊",
                    "Jede Wiederholung zählt! 💯",
                    "Dein Körper kann alles! 🌟"
                ],
                trivia: [
                    "Intelligenz in Aktion! 🧠",
                    "Fitness-Weisheit! 💡",
                    "Körper und Geist in Form! 🤸",
                    "Du bist ein Fitness-Genie! 🏆"
                ]
            },
            showLessColors: "Weniger Farben anzeigen",
            showLessLanguages: "Weniger Sprachen anzeigen",
            volverAlMenuPrincipal: "Zurück zum Hauptmenü",
            punishmentSummaryHeader: "Strafen für falsche Antworten:"
        },
        it: {
            welcomeToTempoFit: "Benvenuto in TempoFit Pro. Trasforma il tuo corpo con disciplina e tecnologia.",
            comenzarEntrenamiento: "Inizia allenamento",
            seleccionaTuModo: "Seleziona la tua modalità",
            cronometro: "Cronometro",
            intervalos: "Intervalli",
            trivia: "Quiz",
            defineDuracion: "Definisci la durata e controlla il tuo tempo.",
            duracionSegundos: "Durata (secondi):",
            iniciar: "Inizia",
            pausar: "Pausa",
            reanudar: "Riprendi",
            reiniciar: "Ripristina",
            configuraTiempos: "Configura i tempi di esercizio e riposo.",
            fase: "Fase:",
            duracionEjercicio: "Durata esercizio (secondi):",
            descansoCorto: "Riposo breve (secondi):",
            descansoLargo: "Riposo lungo (secondi):",
            totalRoundsLabel: "Numero totale di round:",
            triviaFitness: "Quiz Fitness 💪❓",
            preguntasReto: "5 domande, rispondi o affronta una sfida.",
            tusCastigos: "Le tue punizioni 😔",
            volver: "Indietro",
            configuracion: "Impostazioni",
            paletasColor: "Tavolozze colori",
            idiomas: "Lingue",
            voces: "Voci",
            mostrarMasColores: "Mostra più colori",
            mostrarMasIdiomas: "Mostra più lingue",
            controlVolumen: "Controllo volume",
            volumen: "Volume",
            normalModeWelcome: "Modalità Cronometro. Definisci la tua durata.",
            intervalModeWelcome: "Modalità Intervalli. Configura i tuoi tempi.",
            validDuration: "Per favore, inserisci una durata valida.",
            normalTimerStarted: "Cronometro avviato.",
            normalTimerPaused: "Cronometro in pausa.",
            normalTimerResumed: "Cronometro ripreso.",
            normalTimerReset: "Cronometro ripristinato.",
            timeUp: "Tempo scaduto!",
            congratulations: "Congratulazioni, obiettivo raggiunto!",
            validIntervalDurations: "Per favore, inserisci durate valide per tutti i campi.",
            intervalStarted: "Intervallo avviato.",
            exercise: "esercizio",
            shortRest: "riposo breve",
            longRest: "riposo lungo",
            exercisePhase: "Fase di esercizio.",
            intervalPaused: "Intervallo in pausa.",
            intervalResumed: "Intervallo ripreso.",
            intervalReset: "Intervallo ripristinato.",
            intervalWorkoutComplete: "Allenamento a intervalli completato!",
            workoutComplete: "Allenamento completato!",
            question: "Domanda",
            correctAnswer: "Corretto!",
            incorrectAnswer: "Errato.",
            motivationGoodJob: "Eccellente! Continua così!",
            triviaPerfectScore: "Perfetto! Nessuna punizione! 🎉",
            triviaCongratsMessage: "Hai risposto correttamente a tutte le domande. Sei un campione di fitness!",
            triviaPunishmentSummary: "Hai accumulato alcune punizioni. È ora di rimetterti in forma!",
            howTo: "Come fare:",
            purpose: "Scopo:",
            reps: "ripetizioni",
            moreInfo: "Maggiori informazioni",
            testPhrase: "Ciao, questa è una prova.",
            triviaCorrectSound: "Bravo! 🥳",
            triviaIncorrectSound: "Oh no! 😬",
            motivations: {
                general: [
                    "Ogni secondo conta! ⏱️",
                    "Non mollare, continua! 💪",
                    "Puoi farcela! ✨",
                    "Concentrati sul tuo obiettivo! 🎯",
                    "Supera i tuoi limiti! 🚀",
                    "Lo sforzo di oggi è la forza di domani! 🔥",
                    "Sei inarrestabile! ⚡",
                    "Suda oggi, sorridi domani! 😊",
                    "Fai in modo che ogni ripetizione conti! 💯",
                    "Il tuo corpo può fare qualsiasi cosa! 🌟"
                ],
                trivia: [
                    "Intelligenza in azione! 🧠",
                    "Saggezza fitness! 💡",
                    "Mente e corpo in forma! 🤸",
                    "Sei un genio del fitness! 🏆"
                ]
            },
            showLessColors: "Mostra meno colori",
            showLessLanguages: "Mostra meno lingue",
            volverAlMenuPrincipal: "Torna al menu principale",
            punishmentSummaryHeader: "Punizioni per risposte errate:"
        },
        pt: {
            welcomeToTempoFit: "Bem-vindo ao TempoFit Pro. Transforme seu corpo com disciplina e tecnologia.",
            comenzarEntrenamiento: "Começar Treino",
            seleccionaTuModo: "Selecione seu modo",
            cronometro: "Cronômetro",
            intervalos: "Intervalos",
            trivia: "Curiosidades",
            defineDuracion: "Defina a duração e controle seu tempo.",
            duracionSegundos: "Duração (segundos):",
            iniciar: "Iniciar",
            pausar: "Pausar",
            reanudar: "Retomar",
            reiniciar: "Reiniciar",
            configuraTiempos: "Configure tempos de exercício e descanso.",
            fase: "Fase:",
            duracionEjercicio: "Duração do exercício (segundos):",
            descansoCorto: "Descanso curto (segundos):",
            descansoLargo: "Descanso longo (segundos):",
            totalRoundsLabel: "Total de rodadas:",
            triviaFitness: "Curiosidades Fitness 💪❓",
            preguntasReto: "5 perguntas, responda ou cumpra um desafio.",
            tusCastigos: "Seus Castigos 😔",
            volver: "Voltar",
            configuracion: "Configurações",
            paletasColor: "Paletas de Cores",
            idiomas: "Idiomas",
            voces: "Vozes",
            mostrarMasColores: "Mostrar mais cores",
            mostrarMasIdiomas: "Mostrar mais idiomas",
            controlVolumen: "Controle de Volume",
            volumen: "Volume",
            normalModeWelcome: "Modo Cronômetro. Defina sua duração.",
            intervalModeWelcome: "Modo Intervalos. Configure seus tempos.",
            validDuration: "Por favor, insira uma duração válida.",
            normalTimerStarted: "Cronômetro iniciado.",
            normalTimerPaused: "Cronômetro pausado.",
            normalTimerResumed: "Cronômetro retomado.",
            normalTimerReset: "Cronômetro reiniciado.",
            timeUp: "Tempo esgotado!",
            congratulations: "Parabéns, meta alcançada!",
            validIntervalDurations: "Por favor, insira durações válidas para todos os campos.",
            intervalStarted: "Intervalo iniciado.",
            exercise: "exercício",
            shortRest: "descanso curto",
            longRest: "descanso longo",
            exercisePhase: "Fase de exercício.",
            intervalPaused: "Intervalo pausado.",
            intervalResumed: "Intervalo retomado.",
            intervalReset: "Intervalo reiniciado.",
            intervalWorkoutComplete: "Treino de intervalos concluído!",
            workoutComplete: "Treino Concluído!",
            question: "Pergunta",
            correctAnswer: "Correto!",
            incorrectAnswer: "Incorreto.",
            motivationGoodJob: "Excelente! Continue assim!",
            triviaPerfectScore: "Perfeito! Sem castigos! 🎉",
            triviaCongratsMessage: "Você respondeu a todas as perguntas corretamente. Você é um campeão de fitness!",
            triviaPunishmentSummary: "Você acumulou alguns castigos. É hora de entrar em forma!",
            howTo: "Como fazer:",
            purpose: "Propósito:",
            reps: "repetições",
            moreInfo: "Mais informações",
            testPhrase: "Olá, este é um teste.",
            triviaCorrectSound: "Bravo! 🥳",
            triviaIncorrectSound: "Oh não! 😬",
            motivations: {
                general: [
                    "Cada segundo conta! ⏱️",
                    "Não desista, continue! 💪",
                    "Você consegue! ✨",
                    "Concentre-se no seu objetivo! 🎯",
                    "Supere seus limites! 🚀",
                    "O esforço de hoje é a força de amanhã! 🔥",
                    "Você é imparável! ⚡",
                    "Sue hoje, sorria amanhã! 😊",
                    "Faça cada repetição valer a pena! 💯",
                    "Seu corpo pode fazer qualquer coisa! 🌟"
                ],
                trivia: [
                    "Inteligência em ação! 🧠",
                    "Sabedoria fitness! 💡",
                    "Mente e corpo em forma! 🤸",
                    "Você é um gênio do fitness! 🏆"
                ]
            },
            showLessColors: "Mostrar menos cores",
            showLessLanguages: "Mostrar menos idiomas",
            volverAlMenuPrincipal: "Voltar ao Menu Principal",
            punishmentSummaryHeader: "Castigos por respostas incorretas:"
        },
        zh: {
            welcomeToTempoFit: "欢迎来到 TempoFit Pro。用纪律和技术改变你的身体。",
            comenzarEntrenamiento: "开始训练",
            seleccionaTuModo: "选择你的模式",
            cronometro: "秒表",
            intervalos: "间隔",
            trivia: "问答",
            defineDuracion: "定义持续时间并控制你的时间。",
            duracionSegundos: "持续时间（秒）：",
            iniciar: "开始",
            pausar: "暂停",
            reanudar: "恢复",
            reiniciar: "重置",
            configuraTiempos: "设置练习和休息时间。",
            fase: "阶段:",
            duracionEjercicio: "练习持续时间（秒）：",
            descansoCorto: "短休息（秒）：",
            descansoLargo: "长休息（秒）：",
            totalRoundsLabel: "总回合数:",
            triviaFitness: "健身问答 💪❓",
            preguntasReto: "5 个问题，回答或接受挑战。",
            tusCastigos: "你的惩罚 😔",
            volver: "返回",
            configuracion: "设置",
            paletasColor: "调色板",
            idiomas: "语言",
            voces: "语音",
            mostrarMasColores: "显示更多颜色",
            mostrarMasIdiomas: "显示更多语言",
            controlVolumen: "音量控制",
            volumen: "音量",
            normalModeWelcome: "秒表模式。定义你的持续时间。",
            intervalModeWelcome: "间隔模式。设置你的时间。",
            validDuration: "请输入有效时长。",
            normalTimerStarted: "秒表已启动。",
            normalTimerPaused: "秒表已暂停。",
            normalTimerResumed: "秒表已恢复。",
            normalTimerReset: "秒表已重置。",
            timeUp: "时间到！",
            congratulations: "恭喜，目标达成！",
            validIntervalDurations: "请为所有字段输入有效时长。",
            intervalStarted: "间隔已启动。",
            exercise: "练习",
            shortRest: "短休息",
            longRest: "长休息",
            exercisePhase: "练习阶段。",
            intervalPaused: "间隔已暂停。",
            intervalResumed: "间隔已恢复。",
            intervalReset: "间隔已重置。",
            intervalWorkoutComplete: "间隔训练完成！",
            workoutComplete: "训练完成！",
            question: "问题",
            correctAnswer: "正确！",
            incorrectAnswer: "不正确。",
            motivationGoodJob: "太棒了！继续保持！",
            triviaPerfectScore: "完美！没有惩罚！🎉",
            triviaCongratsMessage: "你正确回答了所有问题。你是一个健身冠军！",
            triviaPunishmentSummary: "你积累了一些惩罚。是时候健身了！",
            howTo: "如何做：",
            purpose: "目的：",
            reps: "次",
            moreInfo: "更多信息",
            testPhrase: "你好，这是一个测试。",
            triviaCorrectSound: "太棒了！🥳",
            triviaIncorrectSound: "哦不！😬",
            motivations: {
                general: [
                    "每秒都重要！⏱️",
                    "不要放弃，继续前进！💪",
                    "你能做到！✨",
                    "专注于你的目标！🎯",
                    "突破你的极限！🚀",
                    "今天的努力是明天的力量！🔥",
                    "你势不可挡！⚡",
                    "今天流汗，明天微笑！😊",
                    "让每一次重复都算数！💯",
                    "你的身体无所不能！🌟"
                ],
                trivia: [
                    "智慧在行动！🧠",
                    "健身智慧！💡",
                    "身心健康！🤸",
                    "你是一个健身天才！🏆"
                ]
            },
            showLessColors: "显示更少颜色",
            showLessLanguages: "显示更少语言",
            volverAlMenuPrincipal: "返回主菜单",
            punishmentSummaryHeader: "错误答案的惩罚:"
        },
        ja: {
            welcomeToTempoFit: "TempoFit Proへようこそ。規律とテクノロジーで体を変えましょう。",
            comenzarEntrenamiento: "トレーニング開始",
            seleccionaTuModo: "モードを選択",
            cronometro: "ストップウォッチ",
            intervalos: "インターバル",
            trivia: "トリビア",
            defineDuracion: "時間を設定し、時間を管理します。",
            duracionSegundos: "時間（秒）：",
            iniciar: "開始",
            pausar: "一時停止",
            reanudar: "再開",
            reiniciar: "リセット",
            configuraTiempos: "運動と休憩時間を設定します。",
            fase: "フェーズ:",
            duracionEjercicio: "運動時間（秒）：",
            descansoCorto: "短い休憩（秒）：",
            descansoLargo: "長い休憩（秒）：",
            totalRoundsLabel: "合計ラウンド数:",
            triviaFitness: "フィットネストリビア 💪❓",
            preguntasReto: "5つの質問、答えるか挑戦を受ける。",
            tusCastigos: "あなたの罰 😔",
            volver: "戻る",
            configuracion: "設定",
            paletasColor: "カラーパレット",
            idiomas: "言語",
            voces: "音声",
            mostrarMasColores: "もっと色を表示",
            mostrarMasIdiomas: "もっと言語を表示",
            controlVolumen: "音量コントロール",
            volumen: "音量",
            normalModeWelcome: "ストップウォッチモード。時間を設定します。",
            intervalModeWelcome: "インターバルモード。時間を設定します。",
            validDuration: "有効な時間を入力してください。",
            normalTimerStarted: "ストップウォッチが開始されました。",
            normalTimerPaused: "ストップウォッチが一時停止されました。",
            normalTimerResumed: "ストップウォッチが再開されました。",
            normalTimerReset: "ストップウォッチがリセットされました。",
            timeUp: "時間切れ！",
            congratulations: "おめでとうございます、目標達成！",
            validIntervalDurations: "すべてのフィールドに有効な時間を入力してください。",
            intervalStarted: "インターバルが開始されました。",
            exercise: "運動",
            shortRest: "短い休憩",
            longRest: "長い休憩",
            exercisePhase: "運動フェーズ。",
            intervalPaused: "インターバルが一時停止されました。",
            intervalResumed: "インターバルが再開されました。",
            intervalReset: "インターバルがリセットされました。",
            intervalWorkoutComplete: "インターバルトレーニング完了！",
            workoutComplete: "トレーニング完了！",
            question: "質問",
            correctAnswer: "正解！",
            incorrectAnswer: "不正解。",
            motivationGoodJob: "素晴らしい！この調子で頑張って！",
            triviaPerfectScore: "完璧！罰なし！🎉",
            triviaCongratsMessage: "すべての質問に正しく答えました。あなたはフィットネスチャンピオンです！",
            triviaPunishmentSummary: "いくつかの罰が蓄積されました。フィットネスを始める時です！",
            howTo: "方法:",
            purpose: "目的:",
            reps: "回",
            moreInfo: "詳細情報",
            testPhrase: "こんにちは、これはテストです。",
            triviaCorrectSound: "やった！🥳",
            triviaIncorrectSound: "あらら！😬",
            motivations: {
                general: [
                    "一秒一秒が大切！⏱️",
                    "諦めずに、進み続けよう！💪",
                    "君ならできる！✨",
                    "目標に集中！🎯",
                    "限界を超えろ！🚀",
                    "今日の努力が明日の力に！🔥",
                    "君は止められない！⚡",
                    "今日汗を流し、明日笑おう！😊",
                    "すべてのレップを大切に！💯",
                    "君の体は何でもできる！🌟"
                ],
                trivia: [
                    "行動する知性！🧠",
                    "フィットネスの知恵！💡",
                    "心と体の健康！🤸",
                    "君はフィットネスの天才！🏆"
                ]
            },
            showLessColors: "より少ない色を表示",
            showLessLanguages: "より少ない言語を表示",
            volverAlMenuPrincipal: "メインメニューに戻る",
            punishmentSummaryHeader: "不正解の罰則:"
        },
        ru: {
            welcomeToTempoFit: "Добро пожаловать в TempoFit Pro. Преобразите свое тело с дисциплиной и технологиями.",
            comenzarEntrenamiento: "Начать тренировку",
            seleccionaTuModo: "Выберите режим",
            cronometro: "Секундомер",
            intervalos: "Интервалы",
            trivia: "Викторина",
            defineDuracion: "Установите продолжительность и контролируйте свое время.",
            duracionSegundos: "Продолжительность (секунды):",
            iniciar: "Начать",
            pausar: "Пауза",
            reanudar: "Возобновить",
            reiniciar: "Сбросить",
            configuraTiempos: "Настройте время упражнений и отдыха.",
            fase: "Фаза:",
            duracionEjercicio: "Продолжительность упражнения (секунды):",
            descansoCorto: "Короткий отдых (секунды):",
            descansoLargo: "Длинный отдых (секунды):",
            totalRoundsLabel: "Всего раундов:",
            triviaFitness: "Фитнес-викторина 💪❓",
            preguntasReto: "5 вопросов, ответьте или примите вызов.",
            tusCastigos: "Ваши наказания 😔",
            volver: "Назад",
            configuracion: "Настройки",
            paletasColor: "Цветовые палитры",
            idiomas: "Языки",
            voces: "Голоса",
            mostrarMasColores: "Показать больше цветов",
            mostrarMasIdiomas: "Показать больше языков",
            controlVolumen: "Регулировка громкости",
            volumen: "Громкость",
            normalModeWelcome: "Режим секундомера. Установите продолжительность.",
            intervalModeWelcome: "Режим интервалов. Настройте свое время.",
            validDuration: "Пожалуйста, введите действительную продолжительность.",
            normalTimerStarted: "Секундомер запущен.",
            normalTimerPaused: "Секундомер на паузе.",
            normalTimerResumed: "Секундомер возобновлен.",
            normalTimerReset: "Секундомер сброшен.",
            timeUp: "Время вышло!",
            congratulations: "Поздравляем, цель достигнута!",
            validIntervalDurations: "Пожалуйста, введите действительные значения для всех полей.",
            intervalStarted: "Интервал запущен.",
            exercise: "упражнение",
            shortRest: "короткий отдых",
            longRest: "длинный отдых",
            exercisePhase: "Фаза упражнения.",
            intervalPaused: "Интервал на паузе.",
            intervalResumed: "Интервал возобновлен.",
            intervalReset: "Интервал сброшен.",
            intervalWorkoutComplete: "Интервальная тренировка завершена!",
            workoutComplete: "Тренировка завершена!",
            question: "Вопрос",
            correctAnswer: "Правильно!",
            incorrectAnswer: "Неправильно.",
            motivationGoodJob: "Отлично! Продолжайте в том же духе!",
            triviaPerfectScore: "Идеально! Без наказаний! 🎉",
            triviaCongratsMessage: "Вы правильно ответили на все вопросы. Вы чемпион по фитнесу!",
            triviaPunishmentSummary: "Вы накопили несколько наказаний. Пришло время привести себя в форму!",
            howTo: "Как сделать:",
            purpose: "Цель:",
            reps: "повторений",
            moreInfo: "Подробнее",
            testPhrase: "Привет, это тест.",
            triviaCorrectSound: "Ура! 🥳",
            triviaIncorrectSound: "О нет! 😬",
            motivations: {
                general: [
                    "Каждая секунда на счету! ⏱️",
                    "Не сдавайся, продолжай! 💪",
                    "Ты можешь это сделать! ✨",
                    "Сосредоточься на своей цели! 🎯",
                    "Преодолей свои пределы! 🚀",
                    "Сегодняшние усилия - это завтрашняя сила! 🔥",
                    "Ты неудержим! ⚡",
                    "Потей сегодня, улыбайся завтра! 😊",
                    "Пусть каждое повторение имеет значение! 💯",
                    "Твое тело может все! 🌟"
                ],
                trivia: [
                    "Интеллект в действии! 🧠",
                    "Фитнес-мудрость! 💡",
                    "Тело и разум в форме! 🤸",
                    "Ты фитнес-гений! 🏆"
                ]
            },
            showLessColors: "Показать меньше цветов",
            showLessLanguages: "Показать меньше языков",
            volverAlMenuPrincipal: "Вернуться в главное меню",
            punishmentSummaryHeader: "Наказания за неправильные ответы:"
        },
        ar: {
            welcomeToTempoFit: "مرحبًا بك في تمبو فيت برو. حوّل جسمك بالانضباط والتكنولوجيا.",
            comenzarEntrenamiento: "ابدأ التمرين",
            seleccionaTuModo: "اختر وضعك",
            cronometro: "ساعة الإيقاف",
            intervalos: "فترات",
            trivia: "تريفيا",
            defineDuracion: "حدد المدة وتحكم في وقتك.",
            duracionSegundos: "المدة (ثواني):",
            iniciar: "ابدأ",
            pausar: "إيقاف مؤقت",
            reanudar: "استئناف",
            reiniciar: "إعادة تعيين",
            configuraTiempos: "قم بتكوين أوقات التمرين والراحة.",
            fase: "المرحلة:",
            duracionEjercicio: "مدة التمرين (ثواني):",
            descansoCorto: "راحة قصيرة (ثواني):",
            descansoLargo: "راحة طويلة (ثواني):",
            totalRoundsLabel: "إجمالي الجولات:",
            triviaFitness: "تريفيا اللياقة 💪❓",
            preguntasReto: "5 أسئلة، أجب أو واجه تحديًا.",
            tusCastigos: "عقوباتك 😔",
            volver: "العودة",
            configuracion: "الإعدادات",
            paletasColor: "لوحات الألوان",
            idiomas: "اللغات",
            voces: "الأصوات",
            mostrarMasColores: "عرض المزيد من الألوان",
            mostrarMasIdiomas: "عرض المزيد من اللغات",
            controlVolumen: "التحكم في مستوى الصوت",
            volumen: "مستوى الصوت",
            normalModeWelcome: "وضع ساعة الإيقاف. حدد مدتك.",
            intervalModeWelcome: "وضع الفترات. قم بتكوين أوقاتك.",
            validDuration: "الرجاء إدخال مدة صالحة.",
            normalTimerStarted: "تم بدء ساعة الإيقاف.",
            normalTimerPaused: "تم إيقاف ساعة الإيقاف مؤقتًا.",
            normalTimerResumed: "تم استئناف ساعة الإيقاف.",
            normalTimerReset: "تم إعادة تعيين ساعة الإيقاف.",
            timeUp: "انتهى الوقت!",
            congratulations: "تهانينا، تم تحقيق الهدف!",
            validIntervalDurations: "الرجاء إدخال مدد صالحة لجميع الحقول.",
            intervalStarted: "تم بدء الفترة.",
            exercise: "تمرين",
            shortRest: "راحة قصيرة",
            longRest: "راحة طويلة",
            exercisePhase: "مرحلة التمرين.",
            intervalPaused: "تم إيقاف الفترة مؤقتًا.",
            intervalResumed: "تم استئناف الفترة.",
            intervalReset: "تم إعادة تعيين الفترة.",
            intervalWorkoutComplete: "تم الانتهاء من تمرين الفترات!",
            workoutComplete: "اكتمل التمرين!",
            question: "سؤال",
            correctAnswer: "صحيح!",
            incorrectAnswer: "غير صحيح.",
            motivationGoodJob: "ممتاز! استمر هكذا!",
            triviaPerfectScore: "مثالي! لا عقوبات! 🎉",
            triviaCongratsMessage: "لقد أجبت على جميع الأسئلة بشكل صحيح. أنت بطل لياقة!",
            triviaPunishmentSummary: "لقد تراكمت لديك بعض العقوبات. حان الوقت لتصبح لائقًا!",
            howTo: "كيفية القيام بذلك:",
            purpose: "الغرض:",
            reps: "تكرارات",
            moreInfo: "المزيد من المعلومات",
            testPhrase: "مرحباً، هذا اختبار.",
            triviaCorrectSound: "رائع! 🥳",
            triviaIncorrectSound: "أوه لا! 😬",
            motivations: {
                general: [
                    "كل ثانية مهمة! ⏱️",
                    "لا تستسلم، استمر! 💪",
                    "يمكنك فعل هذا! ✨",
                    "ركز على هدفك! 🎯",
                    "تجاوز حدودك! 🚀",
                    "جهد اليوم هو قوة الغد! 🔥",
                    "لا يمكن إيقافك! ⚡",
                    "اعرق اليوم، ابتسم غدًا! 😊",
                    "اجعل كل تكرار مهمًا! 💯",
                    "جسمك يمكنه فعل أي شيء! 🌟"
                ],
                trivia: [
                    "الذكاء في العمل! 🧠",
                    "حكمة اللياقة! 💡",
                    "الجسم والعقل في أفضل حالاتهما! 🤸",
                    "أنت عبقري لياقة! 🏆"
                ]
            },
            showLessColors: "عرض ألوان أقل",
            showLessLanguages: "عرض لغات أقل",
            volverAlMenuPrincipal: "العودة إلى القائمة الرئيسية",
            punishmentSummaryHeader: "عقوبات الإجابات الخاطئة:"
        },
        hi: { // Hindi
            welcomeToTempoFit: "टेम्पोफिट प्रो में आपका स्वागत है। अनुशासन और तकनीक से अपने शरीर को बदलें।",
            comenzarEntrenamiento: "प्रशिक्षण शुरू करें",
            seleccionaTuModo: "अपना मोड चुनें",
            cronometro: "स्टॉपवॉच",
            intervalos: "अंतराल",
            trivia: "सामान्य ज्ञान",
            defineDuracion: "अवधि निर्धारित करें और अपने समय को नियंत्रित करें।",
            duracionSegundos: "अवधि (सेकंड):",
            iniciar: "शुरू करें",
            pausar: "रोकें",
            reanudar: "फिर से शुरू करें",
            reiniciar: "रीसेट करें",
            configuraTiempos: "अभ्यास और आराम के समय को कॉन्फ़िगर करें।",
            fase: "चरण:",
            duracionEjercicio: "अभ्यास अवधि (सेकंड):",
            descansoCorto: "छोटा आराम (सेकंड):",
            descansoLargo: "लंबा आराम (सेकंड):",
            totalRoundsLabel: "कुल राउंड:",
            triviaFitness: "फिटनेस सामान्य ज्ञान 💪❓",
            preguntasReto: "5 प्रश्न, उत्तर दें या चुनौती स्वीकार करें।",
            tusCastigos: "आपकी सजा 😔",
            volver: "वापस",
            configuracion: "सेटिंग्स",
            paletasColor: "रंग पैलेट",
            idiomas: "भाषाएँ",
            voces: "आवाजें",
            mostrarMasColores: "अधिक रंग दिखाएं",
            mostrarMasIdiomas: "अधिक भाषाएं दिखाएं",
            controlVolumen: "वॉल्यूम नियंत्रण",
            volumen: "वॉल्यूम",
            normalModeWelcome: "स्टॉपवॉच मोड। अपनी अवधि निर्धारित करें।",
            intervalModeWelcome: "अंतराल मोड। अपने समय को कॉन्फ़िगर करें।",
            validDuration: "कृपया एक वैध अवधि दर्ज करें।",
            normalTimerStarted: "स्टॉपवॉच शुरू हो गई।",
            normalTimerPaused: "स्टॉपवॉच रोकी गई।",
            normalTimerResumed: "स्टॉपवॉच फिर से शुरू हुई।",
            normalTimerReset: "स्टॉपवॉच रीसेट हुई।",
            timeUp: "समय समाप्त!",
            congratulations: "बधाई हो, लक्ष्य प्राप्त हुआ!",
            validIntervalDurations: "कृपया सभी फ़ील्ड के लिए वैध अवधि दर्ज करें।",
            intervalStarted: "अंतराल शुरू हो गया।",
            exercise: "अभ्यास",
            shortRest: "छोटा आराम",
            longRest: "लंबा आराम",
            exercisePhase: "अभ्यास चरण।",
            intervalPaused: "अंतराल रुका हुआ।",
            intervalResumed: "अंतराल फिर से शुरू हुआ।",
            intervalReset: "अंतराल रीसेट हुआ।",
            intervalWorkoutComplete: "अंतराल प्रशिक्षण पूरा हुआ!",
            workoutComplete: "प्रशिक्षण पूरा हुआ!",
            question: "प्रश्न",
            correctAnswer: "सही!",
            incorrectAnswer: "गलत।",
            motivationGoodJob: "उत्कृष्ट! ऐसे ही लगे रहो!",
            triviaPerfectScore: "उत्तम! कोई दंड नहीं! 🎉",
            triviaCongratsMessage: "आपने सभी प्रश्नों का सही उत्तर दिया है। आप एक फिटनेस चैंपियन हैं!",
            triviaPunishmentSummary: "आपने कुछ दंड जमा किए हैं। यह फिट होने का समय है!",
            howTo: "कैसे करें:",
            purpose: "उद्देश्य:",
            reps: "प्रतिनिधि",
            moreInfo: "अधिक जानकारी",
            testPhrase: "नमस्ते, यह एक परीक्षण है।",
            triviaCorrectSound: "वाह! 🥳",
            triviaIncorrectSound: "ओह नहीं! 😬",
            motivations: {
                general: [
                    "हर सेकंड मायने रखता है! ⏱️",
                    "हार मत मानो, आगे बढ़ते रहो! 💪",
                    "तुम यह कर सकते हो! ✨",
                    "अपने लक्ष्य पर ध्यान दें! 🎯",
                    "अपनी सीमाओं को पार करें! 🚀",
                    "आज का प्रयास कल की ताकत है! 🔥",
                    "आप अजेय हैं! ⚡",
                    "आज पसीना बहाओ, कल मुस्कुराओ! 😊",
                    "हर दोहराव को मायने रखो! 💯",
                    "आपका शरीर कुछ भी कर सकता है! 🌟"
                ],
                trivia: [
                    "कार्य में बुद्धि! 🧠",
                    "फिटनेस ज्ञान!💡",
                    "शरीर और मन आकार में! 🤸",
                    "आप एक फिटनेस प्रतिभा हैं! 🏆"
                ]
            },
            showLessColors: "कम रंग दिखाएं",
            showLessLanguages: "कम भाषाएं दिखाएं",
            volverAlMenuPrincipal: "मुख्य मेनू पर वापस जाएं",
            punishmentSummaryHeader: "गलत उत्तरों के लिए दंड:"
        },
        ko: { // Korean
            welcomeToTempoFit: "TempoFit Pro에 오신 것을 환영합니다. 규율과 기술로 몸을 변화시키세요.",
            comenzarEntrenamiento: "운동 시작",
            seleccionaTuModo: "모드 선택",
            cronometro: "스톱워치",
            intervalos: "인터벌",
            trivia: "퀴즈",
            defineDuracion: "지속 시간을 정의하고 시간을 제어하세요.",
            duracionSegundos: "지속 시간 (초):",
            iniciar: "시작",
            pausar: "일시 정지",
            reanudar: "재개",
            reiniciar: "재설정",
            configuraTiempos: "운동 및 휴식 시간을 설정하세요.",
            fase: "단계:",
            duracionEjercicio: "운동 지속 시간 (초):",
            descansoCorto: "짧은 휴식 (초):",
            descansoLargo: "긴 휴식 (초):",
            totalRoundsLabel: "총 라운드:",
            triviaFitness: "피트니스 퀴즈 💪❓",
            preguntasReto: "5가지 질문, 답하거나 도전을 받아들이세요.",
            tusCastigos: "당신의 벌칙 😔",
            volver: "뒤로",
            configuracion: "설정",
            paletasColor: "색상 팔레트",
            idiomas: "언어",
            voces: "음성",
            mostrarMasColores: "더 많은 색상 보기",
            mostrarMasIdiomas: "더 많은 언어 보기",
            controlVolumen: "볼륨 조절",
            volumen: "볼륨",
            normalModeWelcome: "스톱워치 모드. 지속 시간을 정의하세요.",
            intervalModeWelcome: "인터벌 모드. 시간을 설정하세요.",
            validDuration: "유효한 지속 시간을 입력하세요.",
            normalTimerStarted: "스톱워치 시작됨.",
            normalTimerPaused: "스톱워치 일시 정지됨.",
            normalTimerResumed: "스톱워치 재개됨.",
            normalTimerReset: "스톱워치 재설정됨.",
            timeUp: "시간 초과!",
            congratulations: "축하합니다, 목표 달성!",
            validIntervalDurations: "모든 필드에 유효한 지속 시간을 입력하세요.",
            intervalStarted: "인터벌 시작됨.",
            exercise: "운동",
            shortRest: "짧은 휴식",
            longRest: "긴 휴식",
            exercisePhase: "운동 단계.",
            intervalPaused: "인터벌 일시 정지됨.",
            intervalResumed: "인터벌 재개됨.",
            intervalReset: "인터벌 재설정됨.",
            intervalWorkoutComplete: "인터벌 운동 완료!",
            workoutComplete: "운동 완료!",
            question: "질문",
            correctAnswer: "정답!",
            incorrectAnswer: "오답.",
            motivationGoodJob: "훌륭합니다! 계속하세요!",
            triviaPerfectScore: "완벽합니다! 벌칙 없음! 🎉",
            triviaCongratsMessage: "모든 질문에 올바르게 답했습니다. 당신은 피트니스 챔피언입니다!",
            triviaPunishmentSummary: "몇 가지 벌칙이 쌓였습니다. 이제 몸을 만들 시간입니다!",
            howTo: "방법:",
            purpose: "목적:",
            reps: "회",
            moreInfo: "더 많은 정보",
            testPhrase: "안녕하세요, 이것은 테스트입니다.",
            triviaCorrectSound: "야호! 🥳",
            triviaIncorrectSound: "아니오! 😬",
            motivations: {
                general: [
                    "매 순간이 중요합니다! ⏱️",
                    "포기하지 마세요, 계속 나아가세요! 💪",
                    "당신은 할 수 있습니다! ✨",
                    "목표에 집중하세요! 🎯",
                    "한계를 뛰어넘으세요! 🚀",
                    "오늘의 노력은 내일의 힘입니다! 🔥",
                    "당신은 멈출 수 없습니다! ⚡",
                    "오늘 땀 흘리고, 내일 웃으세요! 😊",
                    "모든 반복을 소중히 여기세요! 💯",
                    "당신의 몸은 무엇이든 할 수 있습니다! 🌟"
                ],
                trivia: [
                    "행동하는 지성! 🧠",
                    "피트니스 지혜! 💡",
                    "몸과 마음이 건강하게! 🤸",
                    "당신은 피트니스 천재입니다! 🏆"
                ]
            },
            showLessColors: "적은 색상 보기",
            showLessLanguages: "적은 언어 보기",
            volverAlMenuPrincipal: "메인 메뉴로 돌아가기",
            punishmentSummaryHeader: "오답에 대한 벌칙:"
        },
        vi: { // Vietnamese
            welcomeToTempoFit: "Chào mừng đến với TempoFit Pro. Biến đổi cơ thể bạn bằng kỷ luật và công nghệ.",
            comenzarEntrenamiento: "Bắt đầu tập luyện",
            seleccionaTuModo: "Chọn chế độ của bạn",
            cronometro: "Đồng hồ bấm giờ",
            intervalos: "Khoảng thời gian",
            trivia: "Đố vui",
            defineDuracion: "Xác định thời lượng và kiểm soát thời gian của bạn.",
            duracionSegundos: "Thời lượng (giây):",
            iniciar: "Bắt đầu",
            pausar: "Tạm dừng",
            reanudar: "Tiếp tục",
            reiniciar: "Đặt lại",
            configuraTiempos: "Cấu hình thời gian tập luyện và nghỉ ngơi.",
            fase: "Giai đoạn:",
            duracionEjercicio: "Thời lượng tập luyện (giây):",
            descansoCorto: "Nghỉ ngắn (giây):",
            descansoLargo: "Nghỉ dài (giây):",
            totalRoundsLabel: "Tổng số vòng:",
            triviaFitness: "Đố vui Thể hình 💪❓",
            preguntasReto: "5 câu hỏi, trả lời hoặc đối mặt với thử thách.",
            tusCastigos: "Hình phạt của bạn 😔",
            volver: "Quay lại",
            configuracion: "Cài đặt",
            paletasColor: "Bảng màu",
            idiomas: "Ngôn ngữ",
            voces: "Giọng nói",
            mostrarMasColores: "Hiển thị thêm màu",
            mostrarMasIdiomas: "Hiển thị thêm ngôn ngữ",
            controlVolumen: "Điều khiển âm lượng",
            volumen: "Âm lượng",
            normalModeWelcome: "Chế độ Đồng hồ bấm giờ. Xác định thời lượng của bạn.",
            intervalModeWelcome: "Chế độ Khoảng thời gian. Cấu hình thời gian của bạn.",
            validDuration: "Vui lòng nhập thời lượng hợp lệ.",
            normalTimerStarted: "Đồng hồ bấm giờ đã bắt đầu.",
            normalTimerPaused: "Đồng hồ bấm giờ đã tạm dừng.",
            normalTimerResumed: "Đồng hồ bấm giờ đã tiếp tục.",
            normalTimerReset: "Đồng hồ bấm giờ đã đặt lại.",
            timeUp: "Hết giờ!",
            congratulations: "Chúc mừng, mục tiêu đã đạt được!",
            validIntervalDurations: "Vui lòng nhập thời lượng hợp lệ cho tất cả các trường.",
            intervalStarted: "Khoảng thời gian đã bắt đầu.",
            exercise: "tập luyện",
            shortRest: "nghỉ ngắn",
            longRest: "nghỉ dài",
            exercisePhase: "Giai đoạn tập luyện.",
            intervalPaused: "Khoảng thời gian đã tạm dừng.",
            intervalResumed: "Khoảng thời gian đã tiếp tục.",
            intervalReset: "Khoảng thời gian đã đặt lại.",
            intervalWorkoutComplete: "Bài tập khoảng thời gian đã hoàn thành!",
            workoutComplete: "Hoàn thành bài tập!",
            question: "Câu hỏi",
            correctAnswer: "Đúng!",
            incorrectAnswer: "Sai.",
            motivationGoodJob: "Tuyệt vời! Cứ thế mà làm!",
            triviaPerfectScore: "Hoàn hảo! Không có hình phạt! 🎉",
            triviaCongratsMessage: "Bạn đã trả lời đúng tất cả các câu hỏi. Bạn là nhà vô địch thể hình!",
            triviaPunishmentSummary: "Bạn đã tích lũy một số hình phạt. Đã đến lúc rèn luyện sức khỏe!",
            howTo: "Cách thực hiện:",
            purpose: "Mục đích:",
            reps: "lần",
            moreInfo: "Thêm thông tin",
            testPhrase: "Xin chào, đây là một bài kiểm tra.",
            triviaCorrectSound: "Tuyệt vời! 🥳",
            triviaIncorrectSound: "Ôi không! 😬",
            motivations: {
                general: [
                    "Mỗi giây đều có giá trị! ⏱️",
                    "Đừng bỏ cuộc, hãy tiếp tục! 💪",
                    "Bạn có thể làm được điều này! ✨",
                    "Tập trung vào mục tiêu của bạn! 🎯",
                    "Vượt qua giới hạn của bạn! 🚀",
                    "Nỗ lực hôm nay là sức mạnh ngày mai! 🔥",
                    "Bạn là không thể ngăn cản! ⚡",
                    "Đổ mồ hôi hôm nay, mỉm cười ngày mai! 😊",
                    "Hãy làm cho mỗi lần lặp lại có giá trị! 💯",
                    "Cơ thể bạn có thể làm bất cứ điều gì! 🌟"
                ],
                trivia: [
                    "Trí tuệ trong hành động! 🧠",
                    "Trí tuệ thể hình! 💡",
                    "Cơ thể và tâm trí khỏe mạnh! 🤸",
                    "Bạn là một thiên tài thể hình! 🏆"
                ]
            },
            showLessColors: "Hiển thị ít màu hơn",
            showLessLanguages: "Hiển thị ít ngôn ngữ hơn",
            volverAlMenuPrincipal: "Quay lại Menu chính",
            punishmentSummaryHeader: "Hình phạt cho câu trả lời sai:"
        },
        th: { // Thai
            welcomeToTempoFit: "ยินดีต้อนรับสู่ TempoFit Pro เปลี่ยนร่างกายของคุณด้วยวินัยและเทคโนโลยี",
            comenzarEntrenamiento: "เริ่มการออกกำลังกาย",
            seleccionaTuModo: "เลือกโหมดของคุณ",
            cronometro: "นาฬิกาจับเวลา",
            intervalos: "ช่วงเวลา",
            trivia: "เกร็ดความรู้",
            defineDuracion: "กำหนดระยะเวลาและควบคุมเวลาของคุณ",
            duracionSegundos: "ระยะเวลา (วินาที):",
            iniciar: "เริ่ม",
            pausar: "หยุดชั่วคราว",
            reanudar: "ดำเนินการต่อ",
            reiniciar: "รีเซ็ต",
            configuraTiempos: "กำหนดเวลาออกกำลังกายและพักผ่อน",
            fase: "เฟส:",
            duracionEjercicio: "ระยะเวลาออกกำลังกาย (วินาที):",
            descansoCorto: "พักสั้น (วินาที):",
            descansoLargo: "พักยาว (วินาที):",
            totalRoundsLabel: "จำนวนรอบทั้งหมด:",
            triviaFitness: "เกร็ดความรู้ฟิตเนส 💪❓",
            preguntasReto: "5 คำถาม ตอบหรือรับความท้าทาย",
            tusCastigos: "บทลงโทษของคุณ 😔",
            volver: "กลับ",
            configuracion: "การตั้งค่า",
            paletasColor: "จานสี",
            idiomas: "ภาษา",
            voces: "เสียง",
            mostrarMasColores: "แสดงสีเพิ่มเติม",
            mostrarMasIdiomas: "แสดงภาษาเพิ่มเติม",
            controlVolumen: "ควบคุมระดับเสียง",
            volumen: "ระดับเสียง",
            normalModeWelcome: "โหมดนาฬิกาจับเวลา กำหนดระยะเวลาของคุณ",
            intervalModeWelcome: "โหมดช่วงเวลา กำหนดเวลาของคุณ",
            validDuration: "โปรดป้อนระยะเวลาที่ถูกต้อง",
            normalTimerStarted: "นาฬิกาจับเวลาเริ่มแล้ว",
            normalTimerPaused: "นาฬิกาจับเวลาหยุดชั่วคราว",
            normalTimerResumed: "นาฬิกาจับเวลาดำเนินการต่อ",
            normalTimerReset: "นาฬิกาจับเวลารีเซ็ตแล้ว",
            timeUp: "หมดเวลา!",
            congratulations: "ขอแสดงความยินดี บรรลุเป้าหมายแล้ว!",
            validIntervalDurations: "โปรดป้อนระยะเวลาที่ถูกต้องสำหรับทุกช่อง",
            intervalStarted: "ช่วงเวลาเริ่มแล้ว",
            exercise: "ออกกำลังกาย",
            shortRest: "พักสั้น",
            longRest: "พักยาว",
            exercisePhase: "ระยะออกกำลังกาย",
            intervalPaused: "ช่วงเวลาหยุดชั่วคราว",
            intervalResumed: "ช่วงเวลาดำเนินการต่อ",
            intervalReset: "ช่วงเวลารีเซ็ตแล้ว",
            intervalWorkoutComplete: "การออกกำลังกายแบบช่วงเวลาเสร็จสมบูรณ์!",
            workoutComplete: "ออกกำลังกายเสร็จสมบูรณ์!",
            question: "คำถาม",
            correctAnswer: "ถูกต้อง!",
            incorrectAnswer: "ไม่ถูกต้อง",
            motivationGoodJob: "เยี่ยมมาก! ทำต่อไป!",
            triviaPerfectScore: "สมบูรณ์แบบ! ไม่มีบทลงโทษ! 🎉",
            triviaCongratsMessage: "คุณตอบคำถามได้ถูกต้องทุกข้อ คุณคือแชมป์ฟิตเนส!",
            triviaPunishmentSummary: "คุณสะสมบทลงโทษบางอย่าง ถึงเวลาที่จะฟิตร่างกายแล้ว!",
            howTo: "วิธีทำ:",
            purpose: "วัตถุประสงค์:",
            reps: "ครั้ง",
            moreInfo: "ข้อมูลเพิ่มเติม",
            testPhrase: "สวัสดี นี่คือการทดสอบ",
            triviaCorrectSound: "สุดยอด! 🥳",
            triviaIncorrectSound: "โอ้ไม่! 😬",
            motivations: {
                general: [
                    "ทุกวินาทีมีค่า! ⏱️",
                    "อย่ายอมแพ้ สู้ต่อไป! 💪",
                    "คุณทำได้! ✨",
                    "มุ่งมั่นสู่เป้าหมายของคุณ! 🎯",
                    "ก้าวข้ามขีดจำกัดของคุณ! 🚀",
                    "ความพยายามในวันนี้คือความแข็งแกร่งในวันพรุ่งนี้! 🔥",
                    "คุณหยุดไม่อยู่! ⚡",
                    "เหงื่อวันนี้ ยิ้มพรุ่งนี้! 😊",
                    "ทำให้ทุกครั้งที่ทำมีค่า! 💯",
                    "ร่างกายของคุณทำอะไรก็ได้! 🌟"
                ],
                trivia: [
                    "สติปัญญาในการปฏิบัติ! 🧠",
                    "ภูมิปัญญาด้านฟิตเนส! 💡",
                    "ร่างกายและจิตใจแข็งแรง! 🤸",
                    "คุณคืออัจฉริยะด้านฟิตเนส! 🏆"
                ]
            },
            showLessColors: "แสดงสีน้อยลง",
            showLessLanguages: "แสดงภาษาน้อยลง",
            volverAlMenuPrincipal: "กลับสู่เมนูหลัก",
            punishmentSummaryHeader: "บทลงโทษสำหรับคำตอบที่ไม่ถูกต้อง:"
        }
    };

    function populateLanguageButtons() {
        const languageButtonsContainer = document.getElementById('languageButtons');
        languageButtonsContainer.innerHTML = '';
        const langCodes = ['es', 'en', 'fr', 'de', 'it', 'pt', 'zh', 'ja', 'ru', 'ar', 'hi', 'ko', 'vi', 'th']; // Added more languages
        
        // Determine which languages to show based on expanded state
        let languagesToShow = langCodes;
        if (!languageButtonsContainer.classList.contains('expanded')) {
            languagesToShow = langCodes.slice(0, 5); // Show only the first 5 if not expanded
        }

        languagesToShow.forEach(langCode => {
            const button = document.createElement('button');
            button.classList.add('language-button');
            button.textContent = langCode.toUpperCase(); // Display language code (e.g., ES, EN)
            button.onclick = () => setLanguage(langCode);
            languageButtonsContainer.appendChild(button);
        });

        // Re-apply active class
        document.querySelectorAll('.language-button').forEach(button => {
            if (button.textContent.toLowerCase() === currentLanguage) {
                button.classList.add('active');
            } else {
                button.classList.remove('active');
            }
        });
    }

    function setLanguage(langCode) {
        currentLanguage = langCode;
        updateContent();
        populateVoiceDropdown(); // Call this to update voices based on new language
        speak(translations[currentLanguage].testPhrase || "Hello, this is a test."); // Speak a test phrase in new language
        // Highlight active language button
        document.querySelectorAll('.language-button').forEach(button => {
            button.classList.remove('active');
            if (button.textContent.toLowerCase() === langCode) {
                button.classList.add('active');
            }
        });
        // Re-display current trivia question to apply new language
        if (currentView === 'triviaView' && triviaQuestions.length > 0) {
            displayQuestion();
        }
    }

    function updateContent() {
        // Update main titles and instructions
        document.querySelector('p[style="font-size:1.6rem;color:#417d52;"]').textContent = translations[currentLanguage].welcomeToTempoFit;
        document.getElementById('btnStart').textContent = `${translations[currentLanguage].comenzarEntrenamiento} 🚀`;
        document.querySelector('#mainView .modeTitle').textContent = translations[currentLanguage].seleccionaTuModo;
        document.getElementById('btnInitNormal').textContent = `${translations[currentLanguage].cronometro} ⏱`;
        document.getElementById('btnInitInterval').textContent = `${translations[currentLanguage].intervalos} 🔄`;
        document.getElementById('btnInitTrivia').textContent = `${translations[currentLanguage].trivia} ❓`;
        document.querySelector('#normalView .modeTitle').textContent = `${translations[currentLanguage].cronometro} ⏱`;
        document.querySelector('#normalView .modeInstr').textContent = translations[currentLanguage].defineDuracion;
        document.querySelector('#normalDurationInputBlock label').textContent = translations[currentLanguage].duracionSegundos;
        document.getElementById('normalStart').textContent = `${translations[currentLanguage].iniciar} ▶`;
        document.getElementById('normalPause').textContent = normalPaused ? `${translations[currentLanguage].reanudar} ▶` : `${translations[currentLanguage].pausar} ⏸`;
        document.getElementById('normalReset').textContent = `${translations[currentLanguage].reiniciar} 🔄`;
        document.querySelector('#intervalView .modeTitle').textContent = `${translations[currentLanguage].intervalos} 🔄`;
        document.querySelector('#intervalView .modeInstr').textContent = translations[currentLanguage].configuraTiempos;
        document.getElementById('intervalPhase').textContent = `${translations[currentLanguage].fase} -`;
        document.querySelector('#intervalInputs .inputBlock:nth-child(1) label').textContent = translations[currentLanguage].duracionEjercicio;
        document.querySelector('#intervalInputs .inputBlock:nth-child(2) label').textContent = translations[currentLanguage].descansoCorto;
        document.querySelector('#intervalInputs .inputBlock:nth-child(3) label').textContent = translations[currentLanguage].descansoLargo;
        document.querySelector('#intervalInputs .inputBlock:nth-child(4) label').textContent = translations[currentLanguage].totalRoundsLabel; // Updated label
        // Removed the 5th input block as roundsBeforeLongRest is removed
        document.getElementById('intervalStart').textContent = `▶ ${translations[currentLanguage].iniciar}`;
        document.getElementById('intervalPause').textContent = intervalPaused ? `▶ ${translations[currentLanguage].reanudar}` : `⏸ ${translations[currentLanguage].pausar}`;
        document.getElementById('intervalReset').textContent = `🔄 ${translations[currentLanguage].reiniciar}`;
        document.querySelector('#triviaView .modeTitle').textContent = `${translations[currentLanguage].triviaFitness} 💪❓`;
        document.querySelector('#triviaView .modeInstr').textContent = translations[currentLanguage].preguntasReto;
        document.querySelector('#punishmentsSummaryView .modeTitle').textContent = translations[currentLanguage].tusCastigos;
        document.getElementById('moreInfoPunishmentButton').textContent = translations[currentLanguage].volver;
        document.getElementById('btnBack').textContent = `← ${translations[currentLanguage].volver}`;
        document.getElementById('settingsToggle').title = translations[currentLanguage].configuracion;
        document.querySelector('#settingsMenu h3:nth-of-type(1)').textContent = translations[currentLanguage].paletasColor;
        document.querySelector('#settingsMenu h3:nth-of-type(2)').textContent = translations[currentLanguage].idiomas;
        document.querySelector('#settingsMenu h3:nth-of-type(3)').textContent = translations[currentLanguage].voces;
        
        // Update expand buttons text based on their current state
        document.querySelector('.expand-button:nth-of-type(1)').textContent = document.getElementById('paletteGrid').classList.contains('expanded') ? translations[currentLanguage].showLessColors : translations[currentLanguage].mostrarMasColores;
        document.querySelector('.expand-button:nth-of-type(2)').textContent = document.getElementById('languageButtons').classList.contains('expanded') ? translations[currentLanguage].showLessLanguages : translations[currentLanguage].mostrarMasIdiomas;

        document.getElementById('volumeControlBtn').title = translations[currentLanguage].controlVolumen;
        document.querySelector('#volumeSliderContainer label').textContent = translations[currentLanguage].volumen;

        // Update punishment list details if visible
        if (document.getElementById('punishmentsSummaryView').style.display === 'flex') {
          const punishmentsListContainer = document.getElementById('punishmentsListContainer');
          punishmentsListContainer.innerHTML = `<h4>${translations[currentLanguage].punishmentSummaryHeader || 'Castigos por respuestas incorrectas:'}</h4>`;
          incurredPunishments.forEach((punishment, index) => {
              const punishmentItem = document.createElement('div');
              punishmentItem.classList.add('punishmentItem');
              punishmentItem.innerHTML = `
                  <p><strong>${punishment.desc}</strong> (${punishment.reps} ${translations[currentLanguage].reps || 'repeticiones'})</p>
                  <p>${translations[currentLanguage].howTo || 'Cómo hacerlo:'} ${punishment.howTo}</p>
                  <p>${punishment.purpose || 'Propósito:'} ${punishment.purpose}</p>
                  ${punishment.img ? `<button class="small-info-btn" data-title="${punishment.desc}" data-how-to="${punishment.howTo}" data-purpose="${punishment.purpose}" data-img="${punishment.img}">${translations[currentLanguage].moreInfo || 'Más información'}</button>` : ''}
              `;
              punishmentsListContainer.appendChild(punishmentItem);
          });
        }

        // Update final trivia message if visible
        if (document.getElementById('finalTriviaMessage').style.display === 'flex') {
            document.getElementById('finalTriviaMessage').innerHTML = `
                <h2 class="finalTriviaHeader">${translations[currentLanguage].triviaPerfectScore || "¡Perfecto! ¡Sin castigos!"} 🎉</h2>
                <p>${translations[currentLanguage].triviaCongratsMessage || "Has respondido todas las preguntas correctamente. ¡Eres un campeón del fitness!"}</p>
                <button id="finalTriviaReturnToMain" style="background:#3a7bd5;color:#fff;padding:12px 25px;border-radius:10px; margin-top: 20px;">${translations[currentLanguage].volverAlMenuPrincipal || "Volver al Menú Principal"}</button>
            `;
            // Re-attach event listener if the button was re-rendered
            document.getElementById('finalTriviaReturnToMain').addEventListener('click', returnToMain);
        }
    }


    function toggleSettingsGrid(gridId, gridClass) {
        const grid = document.getElementById(gridId);
        grid.classList.toggle('expanded');
        const button = grid.nextElementSibling; // Assuming the button is the next sibling
        if (grid.classList.contains('expanded')) {
            if (gridId === 'paletteGrid') {
                button.textContent = translations[currentLanguage].showLessColors || "Mostrar menos colores";
            } else if (gridId === 'languageButtons') {
                button.textContent = translations[currentLanguage].showLessLanguages || "Mostrar menos idiomas";
            }
        } else {
            if (gridId === 'paletteGrid') {
                button.textContent = translations[currentLanguage].mostrarMasColores || "Mostrar más colores";
            } else if (gridId === 'languageButtons') {
                button.textContent = translations[currentLanguage].mostrarMasIdiomas || "Mostrar más idiomas";
            }
        }
        // Re-populate language buttons to show/hide expanded list
        if (gridId === 'languageButtons') {
            populateLanguageButtons();
        }
    }

    // Volume Control
    document.getElementById('volumeControlBtn').addEventListener('click', () => {
      const sliderContainer = document.getElementById('volumeSliderContainer');
      sliderContainer.style.display = sliderContainer.style.display === 'flex' ? 'none' : 'flex';
    });

    document.getElementById('volumeSlider').addEventListener('input', (event) => {
      currentVolume = parseFloat(event.target.value);
      synth.cancel(); // Stop current speech to apply new volume immediately
      // Optionally, speak a test phrase with the new volume
      // speak(translations[currentLanguage].testPhrase || "Hello, this is a test.");
    });


    // On page load
    window.onload = () => {
      applyPalette(0); // Apply default palette on load
      showView('welcome'); // Show welcome view initially
      speak(translations[currentLanguage].welcomeToTempoFit); // Speak welcome message on page load
      updateContent(); // Apply initial language translations
      populatePaletteGrid(); // Populate the palette options
      populateLanguageButtons(); // Populate language buttons on load
      loadVoices(); // Load voices for the dropdown
      startContinuousMotivation(); // Start the continuous motivation

      // Attach event listeners for main navigation buttons
      document.getElementById('btnStart').addEventListener('click', () => showView('mainView'));
      document.getElementById('btnInitNormal').addEventListener('click', initNormal);
      document.getElementById('btnInitInterval').addEventListener('click', initInterval);
      document.getElementById('btnInitTrivia').addEventListener('click', initTrivia);
      document.getElementById('btnBack').addEventListener('click', returnToMain);
      document.getElementById('normalStart').addEventListener('click', startNormal);
      document.getElementById('normalPause').addEventListener('click', togglePauseNormal);
      document.getElementById('normalReset').addEventListener('click', resetNormal);
      document.getElementById('intervalStart').addEventListener('click', startInterval);
      document.getElementById('intervalPause').addEventListener('click', togglePauseInterval);
      document.getElementById('intervalReset').addEventListener('click', resetInterval);
      document.getElementById('moreInfoPunishmentButton').addEventListener('click', returnToMain);
    }
  </script>
</body>
</html>
